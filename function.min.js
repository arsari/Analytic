function displayJSON(status){let userLogged="";status?userLogged="<span>User Logged In</span>":"logout"===window.dataLayer.at(-1).event&&(userLogged='<span class="alert">User Logged Out</span>'),document.querySelector("#json").innerHTML+=`<p><em>dataLayer.push and utag.link [${window.dataLayer.length}]</em>${userLogged}</p><pre>${JSON.stringify(window.dataLayer.at(-1),void 0,2)}</pre>`,document.querySelectorAll("pre").forEach(e=>{e.className="normal"}),document.querySelector("#json").lastElementChild.scrollIntoView(),document.querySelector("#json").lastElementChild.className="highlight"}const headerHeight=document.querySelector("header").offsetHeight;document.querySelector("section").style=`margin-top: ${headerHeight+25}px`,document.querySelector("footer").innerHTML=`<span class="env">TealiumIQ->[\n  <span class="prop">${tealiumEnv}</span> ] &boxV; GA4->[ <span class="prop">${ga4Prop}</span> ] &boxV; GTM->[ <span class="prop">${gtmContainer}</span> ]\n  </span><span class="me">Coded with &hearts; by ARSARI</span>`;const btnClick=document.querySelectorAll("button"),userID=`U-${Math.floor(1e4*Math.random()+1)}`;let logged=!1,vs=!1,vc=!0,progress=0;const duration=100;btnClick.forEach(e=>{e.addEventListener("click",()=>{let ui=logged?userID:"guest";if("purchase"===e.id){const transactionID=`T-${Math.floor(1e4*Math.random())}`,itemPrice=Math.floor(100*Math.random()+1),itemQty=Math.floor(30*Math.random()+1),itemDiscount=Number((.15*itemPrice).toFixed(2)),total=Number(((itemPrice-itemDiscount)*itemQty).toFixed(2));window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e.id,event_type:"conversion",button_text:e.innerText,ecommerce:{transaction_id:transactionID,affiliation:"Merchandise Store",value:total,tax:Number((.07*total).toFixed(2)),shipping:Number((.12*total).toFixed(2)),currency:"USD",coupon:"SUMMER_SALE",items:[{item_id:"SKU_12345",item_name:"Stan and Friends Tee",affiliation:"Merchandise Store",coupon:"SUMMER_FUN",currency:"USD",discount:itemDiscount,index:0,item_brand:"Google",item_category:"Apparel",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short sleeve",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"green",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:itemPrice,quantity:itemQty}]},logged_in:logged,user_id:ui}),utag.link({event:e.id,event_type:"conversion",button_text:e.innerText,ecommerce:{transaction_id:transactionID,affiliation:"Merchandise Store",value:total,tax:Number((.07*total).toFixed(2)),shipping:Number((.12*total).toFixed(2)),currency:"USD",coupon:"SUMMER_SALE",items:[{item_id:"SKU_12345",item_name:"Stan and Friends Tee",affiliation:"Merchandise Store",coupon:"SUMMER_FUN",currency:"USD",discount:itemDiscount,index:0,item_brand:"Google",item_category:"Apparel",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short sleeve",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"green",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:itemPrice,quantity:itemQty}]},logged_in:logged,user_id:ui}),displayJSON(logged)}else{let en,cm,cc,val,vt,vp,vct,vd,vi,lu,ol,ld;if("email"!==e.id&&"phone"!==e.id||(en="generated_lead",cc="USD"),"email"===e.id&&(cm="email",val=50),"phone"===e.id&&(cm="phone",val=25),"form"===e.id&&(en="form_submit",cm="form filled",val=100),"download"===e.id&&(en="file_download"),"exlink"===e.id){en="outbound_link",lu=e.querySelector("#exlink a").href;const domain=new URL(lu);ld=domain.hostname,ol=!0}if("inlink"===e.id){en="internal_link",lu=e.querySelector("#inlink a").href;const domain=new URL(lu);ld=domain.hostname,ol=!1}"video"===e.id&&(vt="Walk in The Clouds",vp="video player",vc?(en="video_start",vs=!0,vi="Play",vct=progress,vd=100,vc=!1):(en="video_stop",vs=!1,vi="Stop",vct=progress,vd=100,vc=!0));const interval=setInterval(()=>{if(vs){progress+=5;const sendData=()=>{window.dataLayer.push({event:en,event_type:"content tool",video_interaction:vi,video_title:"Walk in The Clouds",video_provider:"video player",video_current_time:vct,video_duration:vd,logged_in:logged,user_id:ui}),utag.link({event:en,event_type:"content tool",video_interaction:vi,video_title:"Walk in The Clouds",video_provider:"video player",video_current_time:vct,video_duration:vd,logged_in:logged,user_id:ui}),displayJSON(logged)};[10,25,50,75,90].includes(progress)&&(en=`video_progress ${progress}`,vi=`Progress ${progress}%`,vct=progress,ui=logged?userID:"guest",sendData()),100===progress&&(en="video_complete",vi="Complete",vct=progress,vd=100,ui=logged?userID:"guest",progress=0,vs=!1,vc=!0,clearInterval(interval),sendData())}},5e3);if("Stop"===vi&&clearInterval(interval),"login"===e.id){if(logged)return void alert("Oops! I'm sorry you already Sign In.");logged=!0,ui=userID}if("logout"===e.id){if(!logged)return void alert("Oops! I'm sorry you need to Sign In first.");logged=!1}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:en||e.id,event_type:"generated_lead"===en||"form_submit"===en?"conversion":"ui interaction",button_text:e.innerText,link_id:"exlink"===e.id||"inlink"===e.id?e.id:void 0,link_text:"exlink"===e.id||"inlink"===e.id?e.innerText:void 0,link_url:"exlink"===e.id||"inlink"===e.id?lu:void 0,link_domain:"exlink"===e.id||"inlink"===e.id?ld:void 0,outbound:"exlink"===e.id||"inlink"===e.id?ol:void 0,file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"MyDownload":void 0,video_interaction:"video"!==e.id||!0!==vs&&!0!==vc?void 0:vi,video_title:vt,video_provider:vp,video_current_time:vct,video_duration:vd,form_id:"form"===e.id?e.id:void 0,form_name:"form"===e.id?"MyForm":void 0,form_submit_text:"form"===e.id?e.innerText:void 0,contact_method:cm,currency:cc,value:val,method:"login"===e.id?"Google":void 0,logged_in:logged,user_id:ui}),utag.link({event:en||e.id,event_type:"generated_lead"===en||"form_submit"===en?"conversion":"ui interaction",button_text:e.innerText,link_id:"exlink"===e.id||"inlink"===e.id?e.id:void 0,link_text:"exlink"===e.id||"inlink"===e.id?e.innerText:void 0,link_url:"exlink"===e.id||"inlink"===e.id?lu:void 0,link_domain:"exlink"===e.id||"inlink"===e.id?ld:void 0,outbound:"exlink"===e.id||"inlink"===e.id?ol:void 0,file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"MyDownload":void 0,video_interaction:"video"!==e.id||!0!==vs&&!0!==vc?void 0:vi,video_title:vt,video_provider:vp,video_current_time:vct,video_duration:vd,form_id:"form"===e.id?e.id:void 0,form_name:"form"===e.id?"MyForm":void 0,form_submit_text:"form"===e.id?e.innerText:void 0,contact_method:cm,currency:cc,value:val,method:"login"===e.id?"Google":void 0,logged_in:logged,user_id:ui}),displayJSON(logged)}document.querySelectorAll("button").forEach(element=>{element.removeAttribute("disabled")}),e.setAttribute("disabled","")})});