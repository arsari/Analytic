/**
 * Web Analytics Implementation Playground
 *
 * Main function file with the source code of the different events and parameters
 * that are being sent to Google Analytics and Tealium.
 *
 * @author:	Arturo Santiago-Rivera (asantiago@arsari.com)
 * @license: MIT License
 */
const headerHeight=document.querySelector("header").offsetHeight;function displayJSON(e){let t="";e?t="<span>User Logged In</span>":"logout"===window.dataLayer.at(-1).event&&(t='<span class="alert">User Logged Out</span>'),document.querySelector("#json").innerHTML+=`<p><em>dataLayer.push and utag.link [${window.dataLayer.length}]</em>${t}</p><pre>${JSON.stringify(window.dataLayer.at(-1),void 0,2)}</pre>`,document.querySelectorAll("pre").forEach((e=>{e.className="normal",e.previousElementSibling.className="normal"}));const o=document.querySelector("#json");o.lastElementChild.scrollIntoView(),o.lastElementChild.className="highlight",o.lastElementChild.previousElementSibling.classList.remove("normal")}function ecommerceModal(){eModal.classList.toggle("show-modal")}function searchModal(){sModal.classList.toggle("show-modal")}function formModal(){fModal.classList.toggle("show-modal"),document.querySelector(".ty-message-wrap").classList.remove("show"),document.querySelector(".form-wrap").classList.remove("hide"),document.getElementById("fname").value="",document.getElementById("profession").value=""}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function timeStamp(){const e=new Date,t=e.getTimezoneOffset(),o=t>=0?"-":"+",i=e=>{const t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return`${e.getFullYear()}-${i(e.getMonth()+1)}-${i(e.getDate())} T${i(e.getHours())}:${i(e.getMinutes())}:${i(e.getSeconds())}.${i(e.getMilliseconds())} UTC${o}${i(t/60)}:${i(t%60)}`}function errorEvent(e,t,o){alert(t);const i=String((new Date).getTime()),n=timeStamp();let r,c,s;switch(/item/i.test(e.id)?"yes":e.id){case"yes":r="select_item",c=e.id,s=e.parentNode.parentNode.parentNode.parentNode.parentNode.previousElementSibling.innerText;break;case"checkout2":r="add_shipping_info",c="Add Shipping Info";break;case"checkout3":r="add_payment_info",c="Add Payment Info";break;default:r=e.id,c=e.innerText}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:`${r}_error`,event_type:"content tool",button_text:c,section_heading:s??void 0,tag_name:e.tagName,step:step.at(-1),error_message:t,alert_impression:!0,event_timestamp:i,custom_timestamp:n,logged_in:logged,user_id:o}),utag.link({event:`${r}_error`,event_type:"content tool",button_text:c,section_heading:s??void 0,tag_name:e.tagName,step:step.at(-1),error_message:t,alert_impression:!0,event_timestamp:i,custom_timestamp:n,logged_in:logged,user_id:o,custom_user_id:o}),displayJSON(logged)}function removeItem(e,t){const o=String((new Date).getTime()),i=timeStamp(),n=document.querySelector(`#removeItem${e}`),r=1===itemsSelected.length?0:itemsSelected.findIndex((t=>t.index===e)),c="Product Removed from Shopping Cart";window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"remove_from_cart",button_text:n.innerText,event_type:"ui interaction",tag_name:n.tagName,step:step.at(-1),alert_message:c,alert_impression:!0,ecommerce:{currency:"USD",value:itemsSelected[r].price,items:itemsSelected[r]},event_timestamp:o,custom_timestamp:i,logged_in:logged,user_id:t}),utag.link({tealium_event:"remove_from_cart",button_text:n.innerText,event_type:"ui interaction",tag_name:n.tagName,step:step.at(-1),alert_message:c,alert_impression:!0,ecommerce:{currency:"USD",value:itemsSelected[r].price,items:itemsSelected[r]},event_timestamp:o,custom_timestamp:i,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged),document.querySelector("#itemsSelectedRows").removeChild(document.querySelector(`#removeItem${e}`).parentNode.parentNode),itemsValue-=itemsSelected[r].price*itemsSelected[r].quantity,document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`,itemsSelected.splice(r,1),0===itemsSelected.length&&(document.querySelector("#itemsSelectedRows").innerHTML='<tr><td class="empty-cart" colspan="5">Shopping Cart is Empty</td></tr>',document.querySelector("#checkout1").classList.add("inactive"),document.querySelector("#coupon").classList.add("ghost")),alert(c)}function selectItem(e,t){const o=String((new Date).getTime()),i=timeStamp(),n=document.querySelector(`#Item${e}`),r=n.parentNode.parentNode.parentNode.parentNode.parentNode.previousElementSibling.innerText,c=parseInt(document.querySelector(`#qty${e}`).value);if(0!==c)itemsList[e].index=1*itemsSelected.length,itemsList[e].quantity=c,window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"select_item",button_text:n.id,section_heading:r??void 0,event_type:"ui interaction",tag_name:n.tagName,step:step.at(-1),ecommerce:{item_list_id:itemsList[e].item_list_id,item_list_name:itemsList[e].item_list_name,items:itemsList[e]},event_timestamp:o,custom_timestamp:i,logged_in:logged,user_id:t}),utag.link({tealium_event:"select_item",button_text:n.id,section_heading:r??void 0,event_type:"ui interaction",tag_name:n.tagName,step:step.at(-1),ecommerce:{item_list_id:itemsList[e].item_list_id,item_list_name:itemsList[e].item_list_name,items:itemsList[e]},event_timestamp:o,custom_timestamp:i,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged),itemsSelected.push(itemsList[e]),itemsValue=itemsList[e].price,n.setAttribute("disabled",""),document.querySelector(`#qty${e}`).previousElementSibling.setAttribute("disabled",""),document.querySelector(`#qty${e}`).nextElementSibling.setAttribute("disabled","");else{n.checked=!1;errorEvent(n,"ERROR: Selected item has zero quantity!",t)}}function chgQTY(e,t){let o=parseInt(document.querySelector(`#qty${e}`).value);const i=document.querySelector(`#total${e}`)??null;if("plus"===t?o+=1:o=0===o?0:o-1,document.querySelector(`#qty${e}`).value=o,null!==i){i.innerHTML=`$${(itemsSelected[itemsSelected.findIndex((t=>t.index===e))].price*o).toFixed(2)}`,itemsSelected[itemsSelected.findIndex((t=>t.index===e))].quantity=o,itemsValue=0;for(const e of itemsSelected)itemsValue+=Number((e.price*e.quantity).toFixed(2));document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`}}function chgSHIPPING(){const e=document.querySelector("#chgSHIPP").value;let t=shipping;switch(e){case"express":t=Number((.12*itemsValue).toFixed(2))+10;break;case"overnight":t=Number((.12*itemsValue).toFixed(2))+20;break;case"standard":t=Number((.12*itemsValue).toFixed(2));break;default:t=shipping}document.querySelector("#shippingCost").innerHTML=`$ ${t.toFixed(2)}`,document.querySelector("#total").innerHTML=`$ ${(itemsValue+tax+t).toFixed(2)}`,customerInfo.shipping=e}function creditCardType(){const e=document.querySelector("#cardnum").value;return document.querySelector("#cclogo").innerHTML="",/^(?:2131|1800|35\d{3})\d{11}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.global.jcb/en/about-us/brand-concept/images/index/pic_jcbcard_02.png" alt="JCB"/>'):/^3[47][0-9]{13}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.aexp-static.com/cdaas/one/statics/axp-static-assets/1.8.0/package/dist/img/logos/dls-logo-bluebox-solid.svg" alt="American Express"/>'):/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.dinersclub.com/content/experience-fragments/diners-club/home-header-xf/master/_jcr_content/root/header/image.coreimg.svg/1627886360030/dci-logo-default.svg" alt="DinersClub"/>'):/^4[0-9]{12}(?:[0-9]{3})?$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://cdn.visa.com/v2/assets/images/logos/visa/blue/logo.png" alt="Visa"/>'):/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.mastercard.us/content/dam/public/mastercardcom/na/us/en/homepage/Home/mc-logo-52.svg" alt="MasterCard"/>'):/^6(?:011|5[0-9]{2})[0-9]{12}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.discover.com/content/dam/discover/en_us/global/logos/discover-logo.svg" alt="Discover"/>'):document.querySelector("#cclogo").innerHTML="Invalid Card Number"}function maskNumber(e){let t=e.slice(0,2);return t+="*".repeat(e.length-4),t+=e.slice(-4),t}document.querySelector("main").style=`margin-top: ${headerHeight+15}px`,document.querySelector("footer").innerHTML=`<span class="env">Env->[\n  <span class="prop">${tealiumEnv}</span> ] &boxV; GA4->[ <span class="prop">${ga4Prop}</span> ] &boxV; GTM->[ <span class="prop">${gtmContainer}</span> ]\n  </span><span class="me">Coded with &hearts; by ARSARI &boxV; Best view in Desktop</span>`;let logged=!1,vplay=!1,vstop=!0,vprogress=0;const vduration=300,sModal=document.querySelector(".searchModal"),fModal=document.querySelector(".formModal"),eModal=document.querySelector(".ecommerceModal");let tempList,userCoupon,storeEnable=!1,itemsSelected=[],itemsList=[],panelFilled=[],itemsValue=0,tax=0,shipping=0,discountTotal=0,step=[];const customerInfo={},productList_1=[{item_name:"Stan and Friends Tee",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short Sleeve",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"green",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:29.95},{item_name:"Friends Pants",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Pants",item_category4:"Crew",item_category5:"Regular Fit",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"blue",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:39.95},{item_name:"Canyonlands Full-Zip Hoodie",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Jackets",item_category4:"Crew",item_category5:"Long Sleeve",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"black",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:99}],productList_2=[{item_name:"Shoes",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short Sleeve",item_list_id:"other_products",item_list_name:"Other Products",item_variant:"white",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:69.95}],UUID=`U-${self.crypto.getRandomValues(new Uint32Array(1))}`,elemClick=document.querySelectorAll('[name="action"]');elemClick.forEach((e=>{e.addEventListener("click",(()=>{let t=localStorage.UUID;const o="Any Video Player",i="Walk in The Clouds",n="/videos/phantom",r=300,c=e.innerText;let s,a,d,l,m,u,p,g,v,_,y,S,h,f,L,w,b,q,x;if(storeEnable){let o,i;q=String((new Date).getTime()),x=timeStamp();let n,r="ui interaction",a=0;const d=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:s,button_text:c,event_type:r,tag_name:e.tagName,step:step.at(-1),ecommerce:"ecommerce_modal_closed"===s||"ecommerce_funnel_complete"===s?void 0:{transaction_id:n??void 0,value:0===itemsValue?void 0:itemsValue,tax:0===tax?void 0:tax,shipping:0===shipping?void 0:shipping,currency:0===itemsValue?void 0:"USD",coupon:userCoupon??void 0,shipping_tier:o??void 0,payment_type:i??void 0,item_list_id:/productList/i.test(e.id)?tempList[0].item_list_id:void 0,item_list_name:/productList/i.test(e.id)?tempList[0].item_list_name:void 0,items:/productList/i.test(e.id)?tempList:itemsSelected},event_timestamp:q,custom_timestamp:x,logged_in:logged,user_id:t}),utag.link({tealium_event:s,button_text:c,event_type:r,tag_name:e.tagName,step:step.at(-1),ecommerce:"ecommerce_modal_closed"===s||"ecommerce_funnel_complete"===s?void 0:{transaction_id:n??void 0,value:0===itemsValue?void 0:itemsValue,tax:0===tax?void 0:tax,shipping:0===shipping?void 0:shipping,currency:0===itemsValue?void 0:"USD",coupon:userCoupon??void 0,shipping_tier:o??void 0,payment_type:i??void 0,item_list_id:/productList/i.test(e.id)?tempList[0].item_list_id:void 0,item_list_name:/productList/i.test(e.id)?tempList[0].item_list_name:void 0,items:/productList/i.test(e.id)?tempList:itemsSelected},event_timestamp:q,custom_timestamp:x,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged)},l=e=>{e.classList.toggle("active");const t=e.nextElementSibling;t.style.maxHeight?(t.style.maxHeight=null,t.style.paddingBottom=null):(t.style.maxHeight=`${t.scrollHeight}px`,t.style.paddingBottom="18px")},m=(e,o)=>{tempList=o,itemsList=itemsList.concat(o);for(const o of tempList){const i=document.createElement("tr"),n=Math.floor(1e4*Math.random());o.item_id=`SKU_${n}`,o.quantity=0;const r=[o.item_id,o.item_brand,o.item_name,o.item_variant,`$${o.price.toFixed(2)}`,o.quantity];for(const n in r){const c=document.createElement("td");"0"===n?c.insertAdjacentHTML("afterbegin",`<input id="Item${itemsList.indexOf(o)}" type="checkbox" onclick=selectItem(${itemsList.indexOf(o)},"${t}") title="Click to Select Item"><span>${r[n]}</span>`):"2"===n?c.insertAdjacentHTML("afterbegin",`${o.item_name}<br>${o.item_category2} ${o.item_category3} ${o.item_category5}`):"5"===n?c.insertAdjacentHTML("afterbegin",`<div class="container"><button onclick=chgQTY(${itemsList.indexOf(o)},"minus")>-</button><input id="qty${itemsList.indexOf(o)}" class="qty" type="text" value="${r[n]}" readonly><button onclick=chgQTY(${itemsList.indexOf(o)},"plus")>+</button></div>`):c.appendChild(document.createTextNode(r[n])),i.appendChild(c),document.querySelector(`#itemsList-${e}`).appendChild(i)}}s="view_item_list",r="ui interaction",step.push("funnel-1"),d(),tempList=void 0,panelFilled.push(e)};if("productList-1"===e.id&&(panelFilled.includes(1)||m(1,productList_1),l(e)),"productList-2"===e.id&&(panelFilled.includes(2)||m(2,productList_2),l(e)),"add_to_cart"===e.id){if(itemsValue=0,0===itemsSelected.length)return b="ERROR: Please Select a Product!",void errorEvent(e,b,t);s=e.id,step.push("funnel-2");for(const e of itemsSelected)itemsValue+=Number((e.price*e.quantity).toFixed(2));d(),document.querySelector(".add-to-cart-wrap").classList.add("hide");for(const e of document.querySelectorAll('[name="itemsList"]'))e.innerHTML="";for(const e of document.querySelectorAll(".accordion"))e.classList.contains("active")&&l(e);document.querySelector(".view-cart-wrap").classList.add("show");for(const e of itemsSelected){const o=document.createElement("tr"),i=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const n in i){const r=document.createElement("td");"0"===n?r.insertAdjacentHTML("afterbegin",`<button id="removeItem${e.index}" type="submit" onclick=removeItem(${e.index},"${t}")>remove</button><span style="margin-left:5px">${i[n]}</span>`):"1"===n?r.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_brand}`):"3"===n?r.insertAdjacentHTML("afterbegin",`<div class="container"><button onclick=chgQTY(${e.index},"minus")>-</button><input id="qty${e.index}" class="qty" type="text" value="${i[n]}" readonly><button onclick=chgQTY(${e.index},"plus")>+</button></div>`):"4"===n?r.insertAdjacentHTML("afterbegin",`<span id="total${e.index}">$${i[n]}</span>`):r.appendChild(document.createTextNode(i[n])),o.appendChild(r),document.querySelector("#itemsSelectedRows").appendChild(o)}}document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`,s="view_cart",r="content tool",d()}if("checkout1"===e.id){if(document.querySelector(".view-cart-wrap").classList.remove("show"),document.querySelector("#itemsSelectedRows").innerHTML="",document.querySelector(".checkout2-wrap").classList.add("show"),s="begin_checkout",step.push("checkout-1"),userCoupon=/summer fun/i.test(document.querySelector("#couponField").value)?"SUMMER FUN":void 0,void 0!==userCoupon){discountTotal=0,itemsValue=0,tax=0,shipping=0;for(const e of itemsSelected)e.coupon=userCoupon,a=Number((.1*e.price).toFixed(2)),e.discount=a,itemsValue+=Number(((e.price-e.discount)*e.quantity).toFixed(2)),discountTotal+=Number((e.discount*e.quantity).toFixed(2))}document.querySelector("#couponField").value="",d(),step.push("checkout-2")}if("checkout2"===e.id){if(customerInfo.name=document.querySelector("#sname").value.trim(),customerInfo.email=document.querySelector("#semail").value.trim(),customerInfo.address=document.querySelector("#saddress").value.trim(),customerInfo.city=document.querySelector("#scity").value.trim(),customerInfo.state=document.querySelector("#sstate").value.trim(),customerInfo.zip=document.querySelector("#szip").value.trim(),customerInfo.phone=document.querySelector("#sphone").value.trim(),customerInfo.shipping=document.querySelector("#shipping").value,""===customerInfo.name||""===customerInfo.email||""===customerInfo.address||""===customerInfo.city||""===customerInfo.state||""===customerInfo.zip||""===customerInfo.phone)return b="ERROR: Input fields can't be blank.",void errorEvent(e,b,t);document.querySelector(".checkout2-wrap").classList.remove("show"),document.querySelector("#customerAddress").reset(),document.querySelector(".checkout3-wrap").classList.add("show"),s="add_shipping_info",o=customerInfo.shipping,d(),step.push("checkout-3")}if("checkout3"===e.id){const o=document.querySelector("#cardnum").value.trim();if(customerInfo.ccexpiration=document.querySelector("#cardexp").value.trim(),customerInfo.cccvv=document.querySelector("#cardcvv").value.trim(),customerInfo.ccname=document.querySelector("#cardname").value.trim(),""===o||""===customerInfo.ccexpiration||""===customerInfo.cccvv||""===customerInfo.ccname)return b="ERROR: Input fields can't be blank.",void errorEvent(e,b,t);switch(customerInfo.ccnumber=maskNumber(o),customerInfo.cclogo=document.querySelector("#cclogo").innerHTML,customerInfo.ccbrand=document.querySelector("#cclogo").firstElementChild.alt,document.querySelector(".checkout3-wrap").classList.remove("show"),document.querySelector("#customerPayment").reset(),document.querySelector("#cclogo").innerHTML="",document.querySelector(".summary-wrap").classList.add("show"),s="add_payment_info",i=customerInfo.ccbrand,d(),step.push("checkout-4"),tax=Number((.07*itemsValue).toFixed(2)),shipping=Number((.12*itemsValue).toFixed(2)),customerInfo.shipping){case"express":shipping+=10;break;case"overnight":shipping+=20;break;default:shipping+=0}document.querySelector("#sbname").innerHTML=customerInfo.name,document.querySelector("#sbaddress").innerHTML=customerInfo.address,document.querySelector("#sbemail").innerHTML=customerInfo.email,document.querySelector("#sbcity").innerHTML=`${customerInfo.city}, ${customerInfo.state} ${customerInfo.zip}`,document.querySelector("#sbphone").innerHTML=customerInfo.phone;for(const e of itemsSelected){const t=document.createElement("tr"),o=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const i in o){const n=document.createElement("td");"1"===i?n.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"3"===i?(n.style.cssText="text-align: center;",n.appendChild(document.createTextNode(o[i]))):n.appendChild(document.createTextNode(o[i])),t.appendChild(n),document.querySelector("#productRows").appendChild(t)}}document.querySelector("#productsSubtotal").innerHTML=`$ ${(itemsValue+discountTotal).toFixed(2)}`,document.querySelector("#uCoupon").innerHTML=void 0===userCoupon?"":`: ${userCoupon}`,document.querySelector("#discountTotal").innerHTML=`($ ${discountTotal.toFixed(2)})`,document.querySelector("#taxes").innerHTML=`$ ${tax.toFixed(2)}`,document.querySelector("#uShipping").insertAdjacentHTML("afterbegin",`<form class="shipp"><select id="chgSHIPP" class="formInput" onchange="chgSHIPPING()"><option value="">${customerInfo.shipping}</option><option value="standard">Standard</option><option value="express">Express</option><option value="overnight">Overnight</option></select></form>`),document.querySelector("#shippingCost").innerHTML=`$ ${shipping.toFixed(2)}`,document.querySelector("#total").innerHTML=`$ ${(itemsValue+tax+shipping).toFixed(2)}`,document.querySelector("#cctype").innerHTML=customerInfo.cclogo,document.querySelector("#ccbrand").innerHTML=customerInfo.ccbrand,document.querySelector("#ccnumber").innerHTML=customerInfo.ccnumber,document.querySelector("#ccexp").innerHTML=customerInfo.ccexpiration}if("purchase"===e.id){document.querySelector(".summary-wrap").classList.remove("show"),document.querySelector("#uShipping").innerHTML="",document.querySelector(".purchase-wrap").classList.add("show"),n=`T-${Math.floor(1e4*Math.random())}`,s=e.id,r="conversion",step.push("checkout-end"),shipping=1*document.querySelector("#shippingCost").innerHTML.slice(2),o=customerInfo.shipping,d(),step.push("confirmation"),document.querySelector("#ocname").innerHTML=customerInfo.name,document.querySelector("#ocemail").innerHTML=customerInfo.email,document.querySelector("#ocaddress").innerHTML=customerInfo.address,document.querySelector("#occity").innerHTML=`${customerInfo.city}, ${customerInfo.state} ${customerInfo.zip}`,document.querySelector("#ocphone").innerHTML=customerInfo.phone,document.querySelector("#ocorderID").innerHTML=`Order Number ${n}`,document.querySelector("#occustomerID").innerHTML=`Customer Number: ${t}`;const i=new Date;document.querySelector("#ocdate").innerHTML=`Date: ${i.toDateString()} / ${i.getHours()}:${i.getMinutes()}:${i.getSeconds()}`,document.querySelector("#ocshipping").innerHTML=`Shipping Method: ${customerInfo.shipping.toUpperCase()}`;for(const e of itemsSelected){const t=document.createElement("tr"),o=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const i in o){const n=document.createElement("td");"1"===i?n.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"3"===i?(n.style.cssText="text-align: center;",n.appendChild(document.createTextNode(o[i]))):n.appendChild(document.createTextNode(o[i])),t.appendChild(n),document.querySelector("#ocproductRows").appendChild(t)}}document.querySelector("#ocproductsSubtotal").innerHTML=`$ ${(itemsValue+discountTotal).toFixed(2)}`,document.querySelector("#ocCoupon").innerHTML=void 0===userCoupon?"":`: ${userCoupon}`,document.querySelector("#ocdiscountTotal").innerHTML=`($ ${discountTotal.toFixed(2)})`,document.querySelector("#octaxes").innerHTML=`$ ${tax.toFixed(2)}`,document.querySelector("#ocShipping").innerHTML=`: ${customerInfo.shipping.toUpperCase()}`,document.querySelector("#ocshippingCost").innerHTML=`$ ${shipping.toFixed(2)}`,document.querySelector("#octotal").innerHTML=`$ ${(itemsValue+tax+shipping).toFixed(2)}`,document.querySelector("#occtype").innerHTML=customerInfo.cclogo,document.querySelector("#occbrand").innerHTML=customerInfo.ccbrand,document.querySelector("#occnumber").innerHTML=customerInfo.ccnumber,document.querySelector("#occexp").innerHTML=customerInfo.ccexpiration,document.querySelector("#occname").innerHTML=customerInfo.ccname}if("ecommerce-cancel"===e.id||"ecommerce-end"===e.id){s="ecommerce-cancel"===e.id?"ecommerce_modal_closed":"ecommerce_funnel_complete",d(),ecommerceModal(),storeEnable=!1;for(const e of document.querySelectorAll('[name="itemsList"]'))e.innerHTML="";for(const e of document.querySelectorAll(".accordion"))e.classList.contains("active")&&l(e);document.querySelector("#itemsSelectedRows").innerHTML="",document.querySelector("#productRows").innerHTML="",document.querySelector("#ocproductRows").innerHTML="",document.querySelector(".add-to-cart-wrap").classList.remove("hide"),document.querySelector(".view-cart-wrap").classList.remove("show"),document.querySelector("#checkout1").classList.remove("inactive"),document.querySelector("#coupon").classList.remove("ghost"),document.querySelector(".checkout2-wrap").classList.remove("show"),document.querySelector(".checkout3-wrap").classList.remove("show"),document.querySelector(".summary-wrap").classList.remove("show"),document.querySelector(".purchase-wrap").classList.remove("show"),panelFilled=[],itemsList=[],itemsSelected=[],itemsValue=0,userCoupon=void 0,step=[],tax=0,shipping=0,discountTotal=0}}else{if("ecommerce-modal"===e.id){if(!logged)return b="ERROR: Please Sign In!",void errorEvent(e,b,t);s="ecommerce_modal_opened",ecommerceModal(),storeEnable=!0}if("email"!==e.id&&"phone"!==e.id||(s="generate_lead",d="USD","email"===e.id?(a="email",l=50):(a="phone",l=25)),"form-modal"===e.id&&(s="form_start",f="form modal open",formModal()),"form"===e.id){const o=document.getElementById("fname").value,i=document.getElementById("profession").value;if(!o.trim()||!i.trim())return b="ERROR: Form inputs can't be blank.",void errorEvent(e,b,t);if(o.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return b="ERROR: PII or special characters not allowed in First Name input!",errorEvent(e,b,t),void(document.getElementById("fname").value="");if(i.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return b="ERROR: PII or special characters not allowed in Profession input!",errorEvent(e,b,t),void(document.getElementById("profession").value="");w=capitalize(i),s="form_submit",a="form filled",f="customer service",L=`Thank you for your submission, ${capitalize(o)}! We will be in touch shortly.`,d="USD",document.querySelector(".form-wrap").classList.add("hide"),document.querySelector(".ty-message-wrap").classList.add("show"),document.querySelector("#thank-you-message").innerHTML=L,setTimeout(formModal,5e3)}if("form-close"===e.id&&(s="form_modal_closed",formModal()),"download"===e.id){if(!logged)return b="ERROR: Please Sign In!",void errorEvent(e,b,t);s="file_download",S=window.location.hostname,_=e.className}if("extlink"===e.id||"github"===e.id){s="outbound_link",v=e.href;S=new URL(v).hostname,_=e.className?e.className:void 0,y=!0}if("intlink"===e.id){s="internal_link",v=e.href;S=new URL(v).hostname,_=e.className}"video"===e.id&&(vstop?(document.querySelector("#video .text").classList.add("playing"),document.querySelector("#video").style="background-color: red;",s="video_start",vplay=!0,vstop=!1,g="Play"):(document.querySelector("#video .text").classList.remove("playing"),document.querySelector("#video").style="background-color: #4caf50;",s="video_stop",vplay=!1,vstop=!0,g="Stop"),m=vprogress,p=`${Number((vprogress/300*100).toFixed(1))}%`);const $=setInterval((()=>{if(t=logged?UUID:"guest",vplay){vprogress+=1,q=String((new Date).getTime()),x=timeStamp();const e=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:s,event_type:"content tool",video_duration:r,video_current_time:m,video_percent:p,video_status:g,video_provider:o,video_title:i,video_url:n,event_timestamp:q,custom_timestamp:x,logged_in:logged,user_id:t}),utag.link({tealium_event:s,event_type:"content tool",video_duration:r,video_current_time:m,video_percent:p,video_status:g,video_provider:o,video_title:i,video_url:n,event_timestamp:q,custom_timestamp:x,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged)};u=Number((vprogress/300*100).toFixed(1)),[10,25,50,75,90].includes(u)&&(s="video_progress",m=vprogress,p=`${u}%`,g=`Progress ${u}%`,e()),300===vprogress&&(document.querySelector("#video .text").classList.remove("playing"),document.querySelector("#video").style="background-color: #4caf50;",s="video_complete",m=vprogress,p=`${u}%`,g="Complete",vprogress=0,vplay=!1,vstop=!0,clearInterval($),e())}}),1e3);if("Stop"===g&&clearInterval($),"search-modal"===e.id){if(!logged)return b="ERROR: Please Sign In!",void errorEvent(e,b,t);s="search_modal_opened",searchModal()}if("search"===e.id){if(!e.previousElementSibling.value.trim())return b="ERROR: Search term can't be blank.",void errorEvent(e,b,t);{const o=e.previousElementSibling.value.trim();if(o.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return b="ERROR: PII or special characters not allowed as Search Term.",errorEvent(e,b,t),void(e.previousElementSibling.value="");h=capitalize(o),e.previousElementSibling.value=""}searchModal()}if("search-close"===e.id&&(s="search_modal_closed",searchModal()),"login"===e.id){if(logged)return b="ERROR: Oops! I'm sorry you already Sign In.",void errorEvent(e,b,t);logged=!0,t=void 0===localStorage.UUID||"guest"===localStorage.UUID?UUID:localStorage.UUID,localStorage.logged=logged,localStorage.UUID=t,localStorage.customID=t}if("logout"===e.id){if(!logged)return b="ERROR: Oops! I'm sorry you already Sign Out.",void errorEvent(e,b,t);logged=!1,localStorage.logged=logged}q=String((new Date).getTime()),x=timeStamp(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:s||e.id,button_text:"BUTTON"===e.tagName&&""!==c?c:void 0,contact_method:a,currency:d,event_type:/generate_lead|form_submit/i.test(s)?"conversion":"ui interaction",file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:f,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?L:void 0,link_domain:S,link_classes:_,link_id:/extlink|intlink|download|banner/i.test(e.id)?e.id:void 0,link_url:v,link_text:/extlink|intlink|download|banner/i.test(e.id)?c:void 0,method:"login"===e.id?"Google":void 0,outbound:y,search_term:h,tag_name:e.tagName,value:l,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:r,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:m,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:p,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:g,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:o,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:i,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:n,event_timestamp:q,custom_timestamp:x,logged_in:logged,user_id:t,user_profession:w}),utag.link({tealium_event:s||e.id,button_text:"BUTTON"===e.tagName&&""!==c?c:void 0,contact_method:a,currency:d,event_type:/generate_lead|form_submit/i.test(s)?"conversion":"ui interaction",file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:f,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?L:void 0,link_domain:S,link_classes:_,link_id:/extlink|intlink|download|banner/i.test(e.id)?e.id:void 0,link_url:v,link_text:/extlink|intlink|download|banner/i.test(e.id)?c:void 0,method:"login"===e.id?"Google":void 0,outbound:y,search_term:h,tag_name:e.tagName,value:l,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:r,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:m,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:p,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:g,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:o,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:i,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:n,event_timestamp:q,custom_timestamp:x,logged_in:logged,user_id:t,custom_user_id:t,user_profession:w}),displayJSON(logged)}document.querySelectorAll('[name = "action"]').forEach((e=>{e.removeAttribute("disabled")})),e.id.match(/close/i)||/productList/i.test(e.id)||e.setAttribute("disabled","")}))}));