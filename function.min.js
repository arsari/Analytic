/**
 * Web Analytics Implementation Playground
 *
 * Main function file with the source code of the different events and parameters
 * that are being sent to Google Analytics and Tealium.
 *
 * @author:	Arturo Santiago-Rivera (asantiago@arsari.com)
 * @license: MIT License
 */
const headerHeight=document.querySelector("header").offsetHeight;function displayJSON(e){let t="";e?t="<span>User Logged In</span>":"logout"===window.dataLayer.at(-1).event&&(t='<span class="alert">User Logged Out</span>'),document.querySelector("#json").innerHTML+=`<p><em>dataLayer.push and utag.link [${window.dataLayer.length}]</em>${t}</p><pre>${JSON.stringify(window.dataLayer.at(-1),void 0,2)}</pre>`,document.querySelectorAll("pre").forEach((e=>{e.className="normal",e.previousElementSibling.className="normal"}));const i=document.querySelector("#json");i.lastElementChild.scrollIntoView(),i.lastElementChild.className="highlight",i.lastElementChild.previousElementSibling.classList.remove("normal")}function ecommerceModal(){eModal.classList.toggle("show-modal")}function searchModal(){sModal.classList.toggle("show-modal")}function formModal(){fModal.classList.toggle("show-modal"),document.querySelector(".ty-message-wrap").classList.remove("show"),document.querySelector(".form-wrap").classList.remove("hide"),document.getElementById("fname").value="",document.getElementById("profession").value=""}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function timeStamp(){const e=new Date,t=e.getTimezoneOffset(),i=t>=0?"-":"+",o=e=>{const t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return`${e.getFullYear()}-${o(e.getMonth()+1)}-${o(e.getDate())} T${o(e.getHours())}:${o(e.getMinutes())}:${o(e.getSeconds())}.${o(e.getMilliseconds())} UTC${i}${o(t/60)}:${o(t%60)}`}function errorEvent(e,t,i){alert(t);const o=String((new Date).getTime()),a=timeStamp();window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:/item/i.test(e.id)?"select_item_error":`${e.id}_error`,event_type:"content tool",button_text:/item/i.test(e.id)?e.id:e.innerText,tag_name:e.tagName,error_message:t,alert_impression:!0,event_timestamp:o,custom_timestamp:a,logged_in:logged,user_id:i}),utag.link({tealium_event:/item/i.test(e.id)?"select_item_error":`${e.id}_error`,event_type:"content tool",button_text:/item/i.test(e.id)?e.id:e.innerText,tag_name:e.tagName,error_message:t,alert_impression:!0,event_timestamp:o,custom_timestamp:a,logged_in:logged,user_id:i,custom_user_id:i}),displayJSON(logged)}function removeItem(e,t){const i=String((new Date).getTime()),o=timeStamp(),a=document.querySelector(`#removeItem${e}`),r=1===itemsSelected.length?0:itemsSelected.findIndex((t=>t.index===e)),n="Product Removed from Shopping Cart";window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"remove_from_cart",button_text:a.innerText,event_type:"ui interaction",tag_name:a.tagName,alert_message:n,alert_impression:!0,ecommerce:{currency:"USD",value:itemsSelected[r].price,items:itemsSelected[r]},event_timestamp:i,custom_timestamp:o,logged_in:logged,user_id:t}),utag.link({tealium_event:"remove_from_cart",button_text:a.innerText,event_type:"ui interaction",tag_name:a.tagName,alert_message:n,alert_impression:!0,ecommerce:{currency:"USD",value:itemsSelected[r].price,items:itemsSelected[r]},event_timestamp:i,custom_timestamp:o,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged),document.querySelector("#itemsSelectedRows").removeChild(document.querySelector(`#removeItem${e}`).parentNode.parentNode),itemsValue-=itemsSelected[r].price*itemsSelected[r].quantity,document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`,itemsSelected.splice(r,1),0===itemsSelected.length&&(document.querySelector("#itemsSelectedRows").innerHTML='<tr><td class="empty-cart" colspan="5">Shopping Cart is Empty</td></tr>',document.querySelector("#checkout1").classList.add("inactive"),document.querySelector("#coupon").classList.add("ghost")),alert(n)}function selectItem(e,t){const i=String((new Date).getTime()),o=timeStamp(),a=document.querySelector(`#Item${e}`),r=parseInt(document.querySelector(`#qty${e}`).value);if(0!==r)itemsList[e].index=1*itemsSelected.length,itemsList[e].quantity=r,window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"select_item",button_text:a.id,event_type:"ui interaction",tag_name:a.tagName,ecommerce:{item_list_id:"related_products",item_list_name:"Related products",items:itemsList[e]},event_timestamp:i,custom_timestamp:o,logged_in:logged,user_id:t}),utag.link({tealium_event:"select_item",button_text:a.innerText,event_type:"ui interaction",tag_name:a.tagName,ecommerce:{item_list_id:"related_products",item_list_name:"Related products",items:itemsList[e]},event_timestamp:i,custom_timestamp:o,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged),itemsSelected.push(itemsList[e]),itemsValue=itemsList[e].price,a.setAttribute("disabled","");else{a.checked=!1;errorEvent(a,"ERROR: Selected Item Quantity is Zero!",t)}}function chgQTY(e,t){let i=parseInt(document.querySelector(`#qty${e}`).value);const o=document.querySelector(`#total${e}`)??null;if("plus"===t?i+=1:i=0===i?0:i-1,document.querySelector(`#qty${e}`).value=i,null!==o){o.innerHTML=`$${(itemsSelected[itemsSelected.findIndex((t=>t.index===e))].price*i).toFixed(2)}`,itemsSelected[itemsSelected.findIndex((t=>t.index===e))].quantity=i,itemsValue=0;for(const e of itemsSelected)itemsValue+=Number((e.price*e.quantity).toFixed(2));document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`}}function creditCardType(){const e=document.querySelector("#card").value;return/^(?:2131|1800|35\d{3})\d{11}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.global.jcb/en/about-us/brand-concept/images/index/pic_jcbcard_02.png" alt="JCB"/>'):/^3[47][0-9]{13}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.aexp-static.com/cdaas/one/statics/axp-static-assets/1.8.0/package/dist/img/logos/dls-logo-bluebox-solid.svg" alt="AMEX"/>'):/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.dinersclub.com/content/experience-fragments/diners-club/home-header-xf/master/_jcr_content/root/header/image.coreimg.svg/1627886360030/dci-logo-default.svg" alt="DinersClub"/>'):/^4[0-9]{12}(?:[0-9]{3})?$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://cdn.visa.com/v2/assets/images/logos/visa/blue/logo.png" alt="VISA"/>'):/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.mastercard.us/content/dam/public/mastercardcom/na/us/en/homepage/Home/mc-logo-52.svg" alt="MasterCard"/>'):/^6(?:011|5[0-9]{2})[0-9]{12}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.discover.com/content/dam/discover/en_us/global/logos/discover-logo.svg" alt="Discover"/>'):document.querySelector("#cclogo").innerHTML=""}function maskNumber(e){for(const t of e)t>2&&t<e.length-5&&(e=e.replace(t,"*"));return e}document.querySelector("main").style=`margin-top: ${headerHeight+15}px`,document.querySelector("footer").innerHTML=`<span class="env">Env->[\n  <span class="prop">${tealiumEnv}</span> ] &boxV; GA4->[ <span class="prop">${ga4Prop}</span> ] &boxV; GTM->[ <span class="prop">${gtmContainer}</span> ]\n  </span><span class="me">Coded with &hearts; by ARSARI &boxV; Best view in Desktop</span>`;let logged=!1,vplay=!1,vstop=!0,vprogress=0;const vduration=300,sModal=document.querySelector(".searchModal"),fModal=document.querySelector(".formModal"),eModal=document.querySelector(".ecommerceModal");let storeEnable=!1,itemsSelected=[],itemsValue=0;const userAddress={},userPayment={},sku=Math.floor(1e4*Math.random()),itemsList=[{item_name:"Stan and Friends Tee",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short sleeve",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"green",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:29.95},{item_name:"Friends Pants",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Pants",item_category4:"Crew",item_category5:"Regular Fit",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"blue",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:39.95},{item_name:"Canyonlands Full-Zip Hoodie",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Jackets",item_category4:"Crew",item_category5:"Long sleeve",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"black",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:99}],UUID=localStorage.UUID?localStorage.UUID:`U-${self.crypto.getRandomValues(new Uint32Array(1))}`,elemClick=document.querySelectorAll('[name="action"]');elemClick.forEach((e=>{e.addEventListener("click",(()=>{let t=logged?UUID:"guest";const i=`SKU_1-${sku}`,o=`SKU_2-${sku+7}`,a="Any Video Player",r="Walk in The Clouds",n="/videos/phantom",d=300,s=e.innerText;let l,c,m,u,_,g,p,v,y,S,h,w,f,b,L,q,x,M,k;if(storeEnable){let i,o,a,r;M=String((new Date).getTime()),k=timeStamp();const n=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:l,button_text:s,event_type:r??"ui interaction",tag_name:i,ecommerce:"ecommerce_modal_closed"===l?null:{currency:"USD",value:itemsValue,coupon:o??void 0,shipping_tier:userAddress.shipping??void 0,payment_type:userPayment.brand??void 0,items:itemsSelected},event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t}),utag.link({tealium_event:l,button_text:s,event_type:r??"ui interaction",tag_name:i,ecommerce:"ecommerce_modal_closed"===l?null:{currency:"USD",value:itemsValue,coupon:o??void 0,shipping_tier:userAddress.shipping??void 0,payment_type:userPayment.brand??void 0,items:itemsSelected},event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged)};if("add_to_cart"===e.id){if(itemsValue=0,0===itemsSelected.length)return x="ERROR: Please Select a Product!",void errorEvent(e,x,t);l=e.id,i=e.tagName;for(let e=0;e<itemsSelected.length;e++)itemsValue+=Number((itemsSelected[e].price*itemsSelected[e].quantity).toFixed(2));n(),document.querySelector(".add-to-cart-wrap").classList.add("hide"),document.querySelector("#itemsListRows").innerHTML="",document.querySelector(".view-cart-wrap").classList.add("show");for(const e of itemsSelected){const i=document.createElement("tr"),o=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const a in o){const r=document.createElement("td");"0"===a?r.insertAdjacentHTML("afterbegin",`<button id="removeItem${e.index}" type="submit" onclick=removeItem(${e.index},"${t}")>remove</button><span style="margin-left:15px">${o[a]}</span>`):"3"===a?r.insertAdjacentHTML("afterbegin",`<button onclick=chgQTY(${e.index},"minus")>-</button><input id="qty${e.index}" class="qty" type="text" value="${o[a]}" readonly><button onclick=chgQTY(${e.index},"plus")>+</button>`):"4"===a?r.insertAdjacentHTML("afterbegin",`<span id="total${e.index}">$${o[a]}</span>`):r.appendChild(document.createTextNode(o[a])),i.appendChild(r),document.querySelector("#itemsSelectedRows").appendChild(i)}}document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`,l="view_cart",r="content tool",i=e.tagName,n()}if("checkout1"===e.id){if(document.querySelector(".view-cart-wrap").classList.remove("show"),document.querySelector(".checkout2-wrap").classList.add("show"),l="begin_checkout",i=e.tagName,o=/summer fun/i.test(document.querySelector("#couponField").value)?"SUMMER FUN":void 0,void 0!==o){itemsValue=0;for(const e of itemsSelected)e.coupon=o,a=Number((.2*e.price).toFixed(2)),e.discount=a,itemsValue+=Number(((e.price-a)*e.quantity).toFixed(2))}document.querySelector("#couponField").value="",n()}"checkout2"===e.id&&(document.querySelector(".checkout2-wrap").classList.remove("show"),document.querySelector(".checkout3-wrap").classList.add("show"),l="add_shipping_info",userAddress.name=document.querySelector("#sname").value,userAddress.email=document.querySelector("#semail").value,userAddress.address=document.querySelector("#saddress").value,userAddress.city=document.querySelector("#scity").value,userAddress.state=document.querySelector("#sstate").value,userAddress.zip=document.querySelector("#szip").value,userAddress.shipping=document.querySelector("#shipping").value,n()),"checkout3"===e.id&&(document.querySelector(".checkout3-wrap").classList.remove("show"),document.querySelector(".checkout4-wrap").classList.add("show"),l="add_payment_info",userPayment.logo=document.querySelector("#cclogo").innerHTML,userPayment.brand=document.querySelector("#cclogo").firstElementChild.alt,userPayment.card=maskNumber(document.querySelector("#card").value),userPayment.expiration=document.querySelector("#expiration").value,userPayment.cvv=document.querySelector("#cvv").value,n()),"checkout4"===e.id&&(document.querySelector(".checkout4-wrap").classList.remove("show"),ecommerceModal()),"ecommerce-close"===e.id&&(l="ecommerce_modal_closed",i=e.tagName,n(),ecommerceModal(),storeEnable=!1,document.querySelector("#itemsListRows").innerHTML="",document.querySelector("#itemsSelectedRows").innerHTML="",document.querySelector(".add-to-cart-wrap").classList.remove("hide"),document.querySelector(".view-cart-wrap").classList.remove("show"),document.querySelector("#checkout1").classList.remove("inactive"),document.querySelector("#coupon").classList.remove("ghost"),document.querySelector(".checkout2-wrap").classList.remove("show"),document.querySelector(".checkout3-wrap").classList.remove("show"),itemsSelected=[],itemsValue=0)}else if("purchase"===e.id){if(!logged)return x="ERROR: Please Sign In!",void errorEvent(e,x,t);{const a=`T-${Math.floor(1e4*Math.random())}`,r=Math.floor(200*Math.random()+1),n=Math.floor(30*Math.random()+1),d=Number((.2*r).toFixed(2)),l=Number(((r-d)*n*2).toFixed(2));M=String((new Date).getTime()),k=timeStamp(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e.id,button_text:s,event_type:"conversion",tag_name:e.tagName,ecommerce:{transaction_id:a,affiliation:"Merchandise Store",coupon:"SUMMER_SALE",currency:"USD",shipping:Number((.12*l).toFixed(2)),tax:Number((.07*l).toFixed(2)),value:l,items:[{item_id:i,item_name:"Stan and Friends Tee",affiliation:"Merchandise Store",coupon:"SUMMER_FUN",discount:d,index:0,item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short sleeve",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"green",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:r,quantity:n},{item_id:o,item_name:"Friends Pants",affiliation:"Merchandise Store",coupon:"SUMMER_FUN",discount:d,index:1,item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Pants",item_category4:"Crew",item_category5:"Regular Fit",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"blue",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:r,quantity:n}]},event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t}),utag.link({tealium_event:e.id,button_text:s,event_type:"conversion",tag_name:e.tagName,ecommerce:{transaction_id:a,affiliation:"Merchandise Store",coupon:"SUMMER_SALE",currency:"USD",shipping:Number((.12*l).toFixed(2)),tax:Number((.07*l).toFixed(2)),value:l,items:[{item_id:i,item_name:"Stan and Friends Tee",affiliation:"Merchandise Store",coupon:"SUMMER_FUN",discount:d,index:0,item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short sleeve",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"green",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:r,quantity:n},{item_id:o,item_name:"Friends Pants",affiliation:"Merchandise Store",coupon:"SUMMER_FUN",discount:d,index:1,item_brand:"MyCollection",item_category:"Apparel",item_category2:"Adult",item_category3:"Pants",item_category4:"Crew",item_category5:"Regular Fit",item_list_id:"related_products",item_list_name:"Related Products",item_variant:"blue",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:r,quantity:n}]},event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged)}}else{if("ecommerce-modal"===e.id){if(logged){ecommerceModal();for(const e of itemsList){const i=document.createElement("tr"),o=Math.floor(1e4*Math.random());e.item_id=`SKU_${o}`,e.quantity=0;const a=[e.item_id,e.item_brand,e.item_name,e.item_variant,`$${e.price.toFixed(2)}`,e.quantity];for(const o in a){const r=document.createElement("td");"0"===o?r.insertAdjacentHTML("afterbegin",`<input id="Item${itemsList.indexOf(e)}" type="checkbox" onclick=selectItem(${itemsList.indexOf(e)},"${t}") title="Click to Select Item"><span style="margin-left:15px">${a[o]}</span>`):"2"===o?r.insertAdjacentHTML("afterbegin",`${e.item_name}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"5"===o?r.insertAdjacentHTML("afterbegin",`<button onclick=chgQTY(${itemsList.indexOf(e)},"minus")>-</button><input id="qty${itemsList.indexOf(e)}" class="qty" type="text" value="${a[o]}" readonly><button onclick=chgQTY(${itemsList.indexOf(e)},"plus")>+</button>`):r.appendChild(document.createTextNode(a[o])),i.appendChild(r),document.querySelector("#itemsListRows").appendChild(i)}}return l="view_item_list",window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:l,button_text:`${s} [modal open]`,event_type:"ui interaction",tag_name:e.tagName,ecommerce:{item_list_id:"related_products",item_list_name:"Related products",items:itemsList},event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t}),utag.link({tealium_event:l,button_text:`${s} [modal open]`,event_type:"ui interaction",tag_name:e.tagName,ecommerce:{item_list_id:"related_products",item_list_name:"Related products",items:itemsList},event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t,custom_user_id:t}),storeEnable=!0,void displayJSON(logged)}return x="ERROR: Please Sign In!",void errorEvent(e,x,t)}if("email"!==e.id&&"phone"!==e.id||(l="generate_lead",m="USD","email"===e.id?(c="email",u=50):(c="phone",u=25)),"form-modal"===e.id&&(l="form_start",b="form modal open",formModal()),"form"===e.id){const i=document.getElementById("fname").value,o=document.getElementById("profession").value;if(!i.trim()||!o.trim())return x="ERROR: Form inputs can't be blank.",void errorEvent(e,x,t);if(i.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return x="ERROR: PII or special characters not allowed in First Name input!",errorEvent(e,x,t),void(document.getElementById("fname").value="");if(o.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return x="ERROR: PII or special characters not allowed in Profession input!",errorEvent(e,x,t),void(document.getElementById("profession").value="");q=capitalize(o),l="form_submit",c="form filled",b="customer service",L=`Thank you for your submission, ${capitalize(i)}! We will be in touch shortly.`,m="USD",document.querySelector(".form-wrap").classList.add("hide"),document.querySelector(".ty-message-wrap").classList.add("show"),document.querySelector("#thank-you-message").innerHTML=L,setTimeout(formModal,5e3)}if("form-close"===e.id&&(l="form_modal_closed",formModal()),"download"===e.id){if(!logged)return x="ERROR: Please Sign In!",void errorEvent(e,x,t);l="file_download",w=window.location.hostname,S=e.className}if("extlink"===e.id||"github"===e.id){l="outbound_link",y=e.href;w=new URL(y).hostname,S=e.className?e.className:void 0,h=!0}if("intlink"===e.id){l="internal_link",y=e.href;w=new URL(y).hostname,S=e.className}"video"===e.id&&(vstop?(document.querySelector("#video .text").classList.add("playing"),document.querySelector("#video").style="background-color: red;",l="video_start",vplay=!0,vstop=!1,v="Play"):(document.querySelector("#video .text").classList.remove("playing"),document.querySelector("#video").style="background-color: #4caf50;",l="video_stop",vplay=!1,vstop=!0,v="Stop"),_=vprogress,p=`${Number((vprogress/300*100).toFixed(1))}%`);const i=setInterval((()=>{if(t=logged?UUID:"guest",vplay){vprogress+=1,M=String((new Date).getTime()),k=timeStamp();const e=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:l,event_type:"content tool",video_duration:d,video_current_time:_,video_percent:p,video_status:v,video_provider:a,video_title:r,video_url:n,event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t}),utag.link({tealium_event:l,event_type:"content tool",video_duration:d,video_current_time:_,video_percent:p,video_status:v,video_provider:a,video_title:r,video_url:n,event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged)};g=Number((vprogress/300*100).toFixed(1)),[10,25,50,75,90].includes(g)&&(l="video_progress",_=vprogress,p=`${g}%`,v=`Progress ${g}%`,e()),300===vprogress&&(document.querySelector("#video .text").classList.remove("playing"),document.querySelector("#video").style="background-color: #4caf50;",l="video_complete",_=vprogress,p=`${g}%`,v="Complete",vprogress=0,vplay=!1,vstop=!0,clearInterval(i),e())}}),1e3);if("Stop"===v&&clearInterval(i),"search-modal"===e.id){if(!logged)return x="ERROR: Please Sign In!",void errorEvent(e,x,t);l="search_modal_opened",searchModal()}if("search"===e.id){if(!e.previousElementSibling.value.trim())return x="ERROR: Search term can't be blank.",void errorEvent(e,x,t);{const i=e.previousElementSibling.value.trim();if(i.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return x="ERROR: PII or special characters not allowed as Search Term.",errorEvent(e,x,t),void(e.previousElementSibling.value="");f=capitalize(i),e.previousElementSibling.value=""}searchModal()}if("search-close"===e.id&&(l="search_modal_closed",searchModal()),"login"===e.id){if(logged)return x="ERROR: Oops! I'm sorry you already Sign In.",void errorEvent(e,x,t);logged=!0,t=UUID,localStorage.logged=logged,localStorage.UUID=t}if("logout"===e.id){if(!logged)return x="ERROR: Oops! I'm sorry you already Sign Out.",void errorEvent(e,x,t);logged=!1,localStorage.logged=logged}M=String((new Date).getTime()),k=timeStamp(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:l||e.id,button_text:"BUTTON"===e.tagName&&""!==s?s:void 0,contact_method:c,currency:m,event_type:/generate_lead|form_submit|ecommerce_start/i.test(l)?"conversion":"ui interaction",file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:b,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?L:void 0,link_domain:w,link_classes:S,link_id:/extlink|intlink|download|banner/i.test(e.id)?e.id:void 0,link_url:y,link_text:/extlink|intlink|download|banner/i.test(e.id)?s:void 0,method:"login"===e.id?"Google":void 0,outbound:h,search_term:f,tag_name:e.tagName,value:u,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:d,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:_,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:p,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:v,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:a,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:r,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:n,event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t,user_profession:q}),utag.link({tealium_event:l||e.id,button_text:"BUTTON"===e.tagName&&""!==s?s:void 0,contact_method:c,currency:m,event_type:/generate_lead|form_submit|ecommerce_start/i.test(l)?"conversion":"ui interaction",file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:b,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?L:void 0,link_domain:w,link_classes:S,link_id:/extlink|intlink|download|banner/i.test(e.id)?e.id:void 0,link_url:y,link_text:/extlink|intlink|download|banner/i.test(e.id)?s:void 0,method:"login"===e.id?"Google":void 0,outbound:h,search_term:f,tag_name:e.tagName,value:u,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:d,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:_,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:p,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:v,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:a,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:r,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:n,event_timestamp:M,custom_timestamp:k,logged_in:logged,user_id:t,custom_user_id:t,user_profession:q}),displayJSON(logged)}document.querySelectorAll('[name = "action"]').forEach((e=>{e.removeAttribute("disabled")})),e.id.match(/close/i)||e.setAttribute("disabled","")}))}));