/**
 * Web Analytics Implementation Playground
 *
 * Main function file with the source code of the different events and parameters
 * that are being sent to different analytics tools..
 *
 * @author:	Arturo Santiago-Rivera (asantiago@arsari.com)
 * @license: MIT License
 */
function hideBanner(){document.getElementById("cookie-consent-banner").style.display="none"}function showBanner(){document.getElementById("cookie-consent-banner").style.display="block"}function setConsent(e){const t={ad_storage:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_personalization:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:e.necessary?"granted":"denied",personalization_storage:e.preferences?"granted":"denied",security_storage:e.necessary?"granted":"denied"};gtag("consent","update",t),tabMessage="Consent Mode: User Update","granted"===t.analytics_storage?(localStorage.setItem("consentMode",JSON.stringify(t)),displayJSON(logged,tabMessage)):(displayJSON(logged,tabMessage),localStorage.setItem("consentMode",JSON.stringify(t)))}"home"!==utag_data.page_category?document.querySelector("footer").innerHTML=`<span class="env">Env->[\n  <span class="prop">${tealiumEnv}</span> ] &boxV; GA4->[ <span class="prop">${ga4Prop}</span> ] &boxV; GTM->[ <span class="prop">${gtmContainer}</span> ]\n  </span><span class="me">Coded with <span style="color: red;">&hearts;</span> by ARSARI &boxV; Best viewed in a Desktop`:document.querySelector("footer").innerHTML=`<span class="env">Env->[\n  <span class="prop">${tealiumEnv}</span> ] &boxV; GA4->[ <span class="prop">${ga4Prop}</span> ] &boxV; GTM->[ <span class="prop">${gtmContainer}</span> ]\n  </span><span class="me">Coded with <span style="color: red;">&hearts;</span> by ARSARI &boxV; Best viewed in a Desktop &boxV; <a id="consent-open" name="action" href="javascript:void(0)" class="me">Privacy Settings</a></span>`;const headerHeight=document.querySelector("header").offsetHeight;function displayJSON(e,t){let i="";e&&"false"!==e?i="<span>User Logged In</span>":"logout"===window.dataLayer.at(-1).event&&(i='<span class="alert">User Logged Out</span>'),document.querySelector("#json-section").innerHTML+=`<p><em>${t} [${window.dataLayer.length-1}]</em>${i}</p><pre>${JSON.stringify(window.dataLayer.at(-1),void 0,2)}</pre>`,document.querySelectorAll("pre").forEach((e=>{e.className="denied"===e.className||"normal blocked"===e.className?"normal blocked":"normal",e.previousElementSibling.className="normal",tabMessage="dataLayer.push"}));const o=null!==localStorage.getItem("consentMode")?JSON.parse(localStorage.getItem("consentMode")).analytics_storage:"denied",n=document.querySelector("#json-section");n.lastElementChild.scrollIntoView(),n.lastElementChild.className="granted"===o?"highlight":"denied",n.lastElementChild.previousElementSibling.classList.remove("normal")}function toggleBtns(){const e=["#logout","#form-modal","#ecommerce-modal","#download","#intlink","#intlink2","#video"];for(const t of e)null!==document.querySelector(t)&&document.querySelector(t).classList.toggle("inactive")}function ecommerceModal(){ECOMMERCE_MODAL.classList.toggle("show-modal")}function searchModal(){SEARCH_MODAL.classList.toggle("show-modal")}function formModal(){FORM_MODAL.classList.toggle("show-modal"),document.querySelector(".ty-message-wrap").classList.remove("show"),document.querySelector(".form-wrap").classList.remove("hide"),document.getElementById("fname").value="",document.getElementById("profession").value=""}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function timeStamp(){const e=new Date,t=e.getTimezoneOffset(),i=t>=0?"-":"+",o=e=>{const t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return`${e.getFullYear()}-${o(e.getMonth()+1)}-${o(e.getDate())} T${o(e.getHours())}:${o(e.getMinutes())}:${o(e.getSeconds())}.${o(e.getMilliseconds())} UTC${i}${o(t/60)}:${o(t%60)}`}function errorEvent(e,t,i){alert(t);const o=String((new Date).getTime()),n=timeStamp();let r,s,a;switch(/item/i.test(e.id)?"yes":e.id){case"yes":r="select_item",s=e.id,a=e.parentNode.parentNode.parentNode.parentNode.parentNode.previousElementSibling.innerText;break;case"checkout2":r="add_shipping_info",s="Add Shipping Info";break;case"checkout3":r="add_payment_info",s="Add Payment Info";break;default:r=e.id,s=e.innerText}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:`${r}_error`,event_type:"content tool",button_text:s,tag_name:e.tagName,step:step.at(-1),section_heading:a??void 0,error_message:t,alert_impression:!0,e_timestamp:o,custom_timestamp:n,logged_in:logged,user_id:i}),utag.link({event:`${r}_error`,event_type:"content tool",button_text:s,tag_name:e.tagName,step:step.at(-1),section_heading:a??void 0,error_message:t,alert_impression:!0,e_timestamp:o,custom_timestamp:n,logged_in:logged,user_id:i,custom_user_id:i}),amplitude.setUserId(i),amplitude.track({event_type:`${r}_error`,event_properties:{event_type:"content tool",button_text:s,tag_name:e.tagName,step:step.at(-1),section_heading:a??void 0,error_message:t,alert_impression:!0,e_timestamp:o,custom_timestamp:n},user_properties:{$set:{logged_in:logged,custom_user_id:i}}}),mixpanel.identify(i),mixpanel.people.set({logged_in:logged,custom_user_id:i}),mixpanel.track(`${r}_error`,{event_type:"content tool",button_text:s,tag_name:e.tagName,step:step.at(-1),section_heading:a??void 0,error_message:t,alert_impression:!0,e_timestamp:o,custom_timestamp:n}),displayJSON(logged,tabMessage)}function removeItem(e,t){const i=String((new Date).getTime()),o=timeStamp(),n=document.querySelector(`#removeItem${e}`),r=1===itemsSelected.length?0:itemsSelected.findIndex((t=>t.index===e)),s="Product Removed from Shopping Cart";window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged,tabMessage),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"remove_from_cart",button_text:n.innerText,event_type:"ui interaction",tag_name:n.tagName,step:step.at(-1),section_heading:itemsSelected[r].item_category.toUpperCase(),alert_message:s,alert_impression:!0,ecommerce:{currency:"USD",value:itemsSelected[r].price,items:itemsSelected[r]},e_timestamp:i,custom_timestamp:o,logged_in:logged,user_id:t}),utag.link({tealium_event:"remove_from_cart",button_text:n.innerText,event_type:"ui interaction",tag_name:n.tagName,step:step.at(-1),section_heading:itemsSelected[r].item_category.toUpperCase(),alert_message:s,alert_impression:!0,ecommerce:{currency:"USD",value:itemsSelected[r].price,items:itemsSelected[r]},e_timestamp:i,custom_timestamp:o,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged,tabMessage),document.querySelector("#itemsSelectedRows").removeChild(document.querySelector(`#removeItem${e}`).parentNode.parentNode),itemsValue-=itemsSelected[r].price*itemsSelected[r].quantity,document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`,itemsSelected.splice(r,1),0===itemsSelected.length&&(document.querySelector("#itemsSelectedRows").innerHTML='<tr><td class="empty-cart" colspan="5">Shopping Cart is Empty</td></tr>',document.querySelector("#checkout1").classList.add("inactive"),document.querySelector("#coupon").classList.add("ghost")),alert(s)}function selectItem(e,t){const i=String((new Date).getTime()),o=timeStamp(),n=document.querySelector(`#Item${e}`),r=n.parentNode.parentNode.parentNode.parentNode.parentNode.previousElementSibling.innerText,s=parseInt(document.querySelector(`#qty${e}`).value);if(0!==s)itemsList[e].index=1*itemsSelected.length,itemsList[e].quantity=s,window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged,tabMessage),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"select_item",button_text:n.id,event_type:"ui interaction",tag_name:n.tagName,step:step.at(-1),section_heading:r??void 0,ecommerce:{item_list_id:itemsList[e].item_list_id,item_list_name:itemsList[e].item_list_name,items:itemsList[e]},e_timestamp:i,custom_timestamp:o,logged_in:logged,user_id:t}),utag.link({tealium_event:"select_item",button_text:n.id,event_type:"ui interaction",tag_name:n.tagName,step:step.at(-1),section_heading:r??void 0,ecommerce:{item_list_id:itemsList[e].item_list_id,item_list_name:itemsList[e].item_list_name,items:itemsList[e]},e_timestamp:i,custom_timestamp:o,logged_in:logged,user_id:t,custom_user_id:t}),displayJSON(logged,tabMessage),itemsSelected.push(itemsList[e]),itemsValue=itemsList[e].price,n.setAttribute("disabled",""),document.querySelector(`#qty${e}`).previousElementSibling.setAttribute("disabled",""),document.querySelector(`#qty${e}`).nextElementSibling.setAttribute("disabled","");else{n.checked=!1;errorEvent(n,"ERROR: Selected item has zero quantity!",t)}}function chgQTY(e,t){let i=parseInt(document.querySelector(`#qty${e}`).value);const o=document.querySelector(`#total${e}`)??null;if("plus"===t?i+=1:i=0===i?0:i-1,document.querySelector(`#qty${e}`).value=i,null!==o){o.innerHTML=`$${(itemsSelected[itemsSelected.findIndex((t=>t.index===e))].price*i).toFixed(2)}`,itemsSelected[itemsSelected.findIndex((t=>t.index===e))].quantity=i,itemsValue=0;for(const e of itemsSelected)itemsValue+=Number((e.price*e.quantity).toFixed(2));document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`}}function chgSHIPPING(){const e=document.querySelector("#chgSHIPP").value;let t=shipping;switch(e){case"express":t=Number((.12*itemsValue).toFixed(2))+10;break;case"overnight":t=Number((.12*itemsValue).toFixed(2))+20;break;case"standard":t=Number((.12*itemsValue).toFixed(2));break;default:t=shipping}document.querySelector("#shippingCost").innerHTML=`$ ${t.toFixed(2)}`,document.querySelector("#total").innerHTML=`$ ${(itemsValue+tax+t).toFixed(2)}`,CUSTOMER_INFO.shipping=e}function creditCardType(){const e=document.querySelector("#cardnum").value.trim();return/^(?:2131|1800|35\d{3})\d{11}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.global.jcb/en/about-us/brand-concept/images/index/pic_jcbcard_02.png" alt="JCB"/>'):/^3[47][0-9]{13}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.aexp-static.com/cdaas/one/statics/axp-static-assets/1.8.0/package/dist/img/logos/dls-logo-bluebox-solid.svg" alt="American Express"/>'):/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.dinersclub.com/content/experience-fragments/diners-club/home-header-xf/master/_jcr_content/root/header/image.coreimg.svg/1627886360030/dci-logo-default.svg" alt="DinersClub"/>'):/^4[0-9]{12}(?:[0-9]{3})?$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://cdn.visa.com/v2/assets/images/logos/visa/blue/logo.png" alt="Visa"/>'):/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.mastercard.us/content/dam/public/mastercardcom/na/us/en/homepage/Home/mc-logo-52.svg" alt="MasterCard"/>'):/^6(?:011|5[0-9]{2})[0-9]{12}$/.test(e)?document.querySelector("#cclogo").insertAdjacentHTML("afterbegin",'<img src="https://www.discover.com/content/dam/discover/en_us/global/logos/discover-logo.svg" alt="Discover"/>'):document.querySelector("#cclogo").innerHTML=""}function creditCardDate(e,t,i){if(!t.match(/(0[1-9]|1[0-2])[/][0-9]{2}/)){const t="ERROR: Expire date format not correct [MM/YY]!";return document.querySelector("#errmsgdate").innerText=t,errorEvent(e,t,i),!1}const o=new Date,n=o.getFullYear(),r=o.getMonth()+1,s=t.split("/"),a=parseInt(s[1],10)+2e3,d=parseInt(s[0],10);if(a<n||a===n&&d<r){const t="ERROR: The credit card has expired.";return document.querySelector("#errmsgdate").innerText=t,errorEvent(e,t,i),!1}return!0}function maskNumber(e){let t=e.slice(0,2);return t+="*".repeat(e.length-4),t+=e.slice(-4),t}document.querySelector("main").style=`margin-top: ${headerHeight+15}px`,toggleBtns();let tempList,userCoupon,transactionID,logged=!1,tabMessage="dataLayer.push",vplay=!1,vstop=!0,vprogress=0,storeEnable=!1,itemsSelected=[],itemsList=[],panelFilled=[],itemsValue=0,tax=0,shipping=0,discountTotal=0,step=[];const VIDEO_DURATION=300,SEARCH_MODAL=document.querySelector(".searchModal"),FORM_MODAL=document.querySelector(".formModal"),ECOMMERCE_MODAL=document.querySelector(".ecommerceModal"),CUSTOMER_INFO={},PRODUCT_LIST_1=[{item_name:"Stan and Friends Tee",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Clothing",item_category2:"Adult",item_category3:"Shirts",item_category4:"Crew",item_category5:"Short Sleeve",item_list_id:"adult_clothing",item_list_name:"Adult Clothing",item_variant:"green",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:29.95},{item_name:"Friends Pants",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Clothing",item_category2:"Kids",item_category3:"Pants",item_category4:"Crew",item_category5:"Regular Fit",item_list_id:"kids_clothing",item_list_name:"Kids Clothing",item_variant:"blue",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:59.99},{item_name:"Canyonlands Full-Zip Hoodie",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Clothing",item_category2:"Adult",item_category3:"Jackets",item_category4:"Crew",item_category5:"Long Sleeve",item_list_id:"adult_clothing",item_list_name:"Adult Clothing",item_variant:"black",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:99}],PRODUCT_LIST_2=[{item_name:"GreenStride Motion 6 Mid Hiker",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Footwear",item_category2:"Mens",item_category3:"GreenStride",item_category4:"Waterproof",item_category5:"Mid Hiker",item_list_id:"mens_footwear",item_list_name:"Mens Footwear",item_variant:"leather/black",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:119.95},{item_name:"Stone Street Premiun Platform",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Footwear",item_category2:"Womens",item_category3:"Chukka",item_category4:"Waterproof",item_category5:"Platform",item_list_id:"womens_footwear",item_list_name:"Womens Footwear",item_variant:"black",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:140},{item_name:"Classic 6 Boot",affiliation:"Merchandise Store",item_brand:"MyCollection",item_category:"Footwear",item_category2:"Kids",item_category3:"Classic",item_category4:"Waterproof",item_category5:"Boot",item_list_id:"kids_footwear",item_list_name:"Kids Footwear",item_variant:"leather",location_id:"ChIJIQBpAG2ahYAR_6128GcTUEo",price:100}],UUID=`U-${self.crypto.getRandomValues(new Uint32Array(1))}`,elemClick=document.querySelectorAll('[name="action"]');elemClick.forEach((e=>{e.addEventListener("click",(()=>{let t=localStorage.UUID??"guest";const i="Any Video Player",o="Walk in The Clouds",n="/videos/phantom",r=e.innerText;let s,a,d,c,l,m,u,p,_,g,v,y,S,h,f,L,b,M,T,q,w,x;if(storeEnable){let i,o;w=String((new Date).getTime()),x=timeStamp();let n="ui interaction",a=0;const d=()=>{if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null}),utag.link({ecommerce:null}),displayJSON(logged,tabMessage),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:s,button_text:r,event_type:n,tag_name:e.tagName,step:step.at(-1),section_heading:m??void 0,ecommerce:"ecommerce_modal_closed"===s||"ecommerce_funnel_complete"===s?void 0:{transaction_id:transactionID??void 0,value:0===itemsValue?void 0:itemsValue.toFixed(2),tax:0===tax?void 0:tax,shipping:0===shipping?void 0:shipping,currency:0===itemsValue?void 0:"USD",coupon:userCoupon??void 0,shipping_tier:i??void 0,payment_type:o??void 0,item_list_id:/productList/i.test(e.id)?`${u.toLowerCase()}_products`:void 0,item_list_name:/productList/i.test(e.id)?`${u} Products`:void 0,items:/productList/i.test(e.id)?tempList:itemsSelected},e_timestamp:w,custom_timestamp:x,logged_in:logged,user_id:t}),utag.link({tealium_event:s,button_text:r,event_type:n,tag_name:e.tagName,step:step.at(-1),section_heading:m??void 0,ecommerce:"ecommerce_modal_closed"===s||"ecommerce_funnel_complete"===s?void 0:{transaction_id:transactionID??void 0,value:0===itemsValue?void 0:itemsValue.toFixed(2),tax:0===tax?void 0:tax,shipping:0===shipping?void 0:shipping,currency:0===itemsValue?void 0:"USD",coupon:userCoupon??void 0,shipping_tier:i??void 0,payment_type:o??void 0,item_list_id:/productList/i.test(e.id)?tempList[0].item_list_id:void 0,item_list_name:/productList/i.test(e.id)?tempList[0].item_list_name:void 0,items:/productList/i.test(e.id)?tempList:itemsSelected},e_timestamp:w,custom_timestamp:x,logged_in:logged,user_id:t,custom_user_id:t}),amplitude.setUserId(t),amplitude.track({event_type:s,event_properties:{button_text:r,event_type:n,tag_name:e.tagName,step:step.at(-1),section_heading:m??void 0,transaction_id:transactionID??void 0,value:0===itemsValue?void 0:itemsValue.toFixed(2),tax:0===tax?void 0:tax,shipping:0===shipping?void 0:shipping,currency:0===itemsValue?void 0:"USD",coupon:userCoupon??void 0,shipping_tier:i??void 0,payment_type:o??void 0,item_list_id:/productList/i.test(e.id)?tempList[0].item_list_id:void 0,item_list_name:/productList/i.test(e.id)?tempList[0].item_list_name:void 0,e_timestamp:w,custom_timestamp:x},user_properties:{$set:{logged_in:logged,custom_user_id:t}}}),"purchase"===s||"refund"===s)for(const e of itemsSelected){const t=e.discount>0?e.discount:0,o=(new amplitude.Revenue).setProductId(e.item_id).setPrice(Number((e.price-t).toFixed(2))).setQuantity(e.quantity).setRevenueType(s).setEventProperties({transaction_id:transactionID,item_name:e.item_name,affiliation:e.affiliation,item_brand:e.item_brand,item_category:e.item_category,item_category2:e.item_category2,item_category3:e.item_category3,item_category4:e.item_category4,item_category5:e.item_category5,item_list_id:e.item_list_id,item_list_name:e.item_list_name,item_variant:e.item_variant,location_id:e.location_id,currency:"USD",item_price:e.price,coupon:e.coupon,discount:t,shipping_tier:i??void 0});amplitude.revenue(o)}displayJSON(logged,tabMessage)},c=e=>{e.classList.toggle("active");const t=e.nextElementSibling;t.style.maxHeight?(t.style.maxHeight=null,t.style.paddingBottom=null):(t.style.maxHeight=`${t.scrollHeight}px`,t.style.paddingBottom="18px")},l=(e,i)=>{tempList=i,itemsList=itemsList.concat(i);for(const i of tempList){const o=document.createElement("tr"),n=Math.floor(1e4*Math.random());i.item_id=`SKU_${n}`,i.quantity=0;const r=[i.item_id,i.item_brand,i.item_name,i.item_variant,`$${i.price.toFixed(2)}`,i.quantity];for(const n in r){const s=document.createElement("td");"0"===n?s.insertAdjacentHTML("afterbegin",`<input id="Item${itemsList.indexOf(i)}" type="checkbox" onclick=selectItem(${itemsList.indexOf(i)},"${t}") title="Click to Select Item"><span>${r[n]}</span>`):"2"===n?s.insertAdjacentHTML("afterbegin",`${i.item_name}<br>${i.item_category2} ${i.item_category3} ${i.item_category5}`):"5"===n?s.insertAdjacentHTML("afterbegin",`<div class="container"><button onclick=chgQTY(${itemsList.indexOf(i)},"minus")>-</button><input id="qty${itemsList.indexOf(i)}" class="qty" type="text" value="${r[n]}" readonly><button onclick=chgQTY(${itemsList.indexOf(i)},"plus")>+</button></div>`):s.appendChild(document.createTextNode(r[n])),o.appendChild(s),document.querySelector(`#itemsList-${e}`).appendChild(o)}}s="view_item_list",step.push("funnel-1"),m=tempList[0].item_category.toUpperCase(),u=document.querySelector(`#productList-${e}`).innerText,u=u.charAt(0).toUpperCase()+u.slice(1).toLowerCase(),d(),tempList=void 0,panelFilled.push(e)};if("productList-1"===e.id&&(panelFilled.includes(1)||l(1,PRODUCT_LIST_1),c(e)),"productList-2"===e.id&&(panelFilled.includes(2)||l(2,PRODUCT_LIST_2),c(e)),"add_to_cart"===e.id){if(itemsValue=0,0===itemsSelected.length)return q="ERROR: Please Select a Product!",void errorEvent(e,q,t);s=e.id,step.push("funnel-1");for(const e of itemsSelected)itemsValue+=Number((e.price*e.quantity).toFixed(2));d(),document.querySelector(".add-to-cart-str").classList.add("hide");for(const e of document.querySelectorAll('[name="itemsList"]'))e.innerHTML="";for(const e of document.querySelectorAll(".accordion"))e.classList.contains("active")&&c(e);document.querySelector(".view-cart-wrap").classList.add("show");for(const e of itemsSelected){const i=document.createElement("tr"),o=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const n in o){const r=document.createElement("td");"0"===n?r.insertAdjacentHTML("afterbegin",`<button id="removeItem${e.index}" type="submit" onclick=removeItem(${e.index},"${t}")>remove</button><span style="margin-left:5px">${o[n]}</span>`):"1"===n?r.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_brand}`):"3"===n?r.insertAdjacentHTML("afterbegin",`<div class="container"><button onclick=chgQTY(${e.index},"minus")>-</button><input id="qty${e.index}" class="qty" type="text" value="${o[n]}" readonly><button onclick=chgQTY(${e.index},"plus")>+</button></div>`):"4"===n?r.insertAdjacentHTML("afterbegin",`<span id="total${e.index}">$${o[n]}</span>`):r.appendChild(document.createTextNode(o[n])),i.appendChild(r),document.querySelector("#itemsSelectedRows").appendChild(i)}}document.querySelector("#subtotal").innerHTML=`$ ${itemsValue.toFixed(2)}`,s="view_cart",n="content tool",step.push("funnel-2"),document.querySelector("#step1").classList.remove("form-steps__item--active"),document.querySelector("#step1").classList.add("form-steps__item--completed"),document.querySelector("#step2").classList.add("form-steps__item--active"),d()}if("checkout1"===e.id){if(document.querySelector(".view-cart-wrap").classList.remove("show"),document.querySelector("#itemsSelectedRows").innerHTML="",document.querySelector(".checkout2-wrap").classList.add("show"),document.querySelector("#step2").classList.remove("form-steps__item--active"),document.querySelector("#step2").classList.add("form-steps__item--completed"),document.querySelector("#step3").classList.add("form-steps__item--active"),s="begin_checkout",step.push("checkout-1"),userCoupon=/summer sale/i.test(document.querySelector("#couponField").value)?"SUMMER SALE":void 0,void 0!==userCoupon){discountTotal=0,itemsValue=0,tax=0,shipping=0;for(const e of itemsSelected)e.coupon=userCoupon,a=Number((.15*e.price).toFixed(2)),e.discount=a,itemsValue+=Number(((e.price-e.discount)*e.quantity).toFixed(2)),discountTotal+=Number((e.discount*e.quantity).toFixed(2))}document.querySelector("#couponField").value="",d(),step.push("checkout-2")}if("checkout2"===e.id){if(CUSTOMER_INFO.name=document.querySelector("#sname").value.trim(),CUSTOMER_INFO.email=document.querySelector("#semail").value.trim(),CUSTOMER_INFO.address=document.querySelector("#saddress").value.trim(),CUSTOMER_INFO.city=document.querySelector("#scity").value.trim(),CUSTOMER_INFO.state=document.querySelector("#sstate").value.trim(),CUSTOMER_INFO.zip=document.querySelector("#szip").value.trim(),CUSTOMER_INFO.phone=document.querySelector("#sphone").value.trim(),CUSTOMER_INFO.shipping=document.querySelector("#shipping").value,""===CUSTOMER_INFO.name||""===CUSTOMER_INFO.email||""===CUSTOMER_INFO.address||""===CUSTOMER_INFO.city||""===CUSTOMER_INFO.state||""===CUSTOMER_INFO.zip||""===CUSTOMER_INFO.phone)return q="ERROR: Input fields can't be blank.",void errorEvent(e,q,t);document.querySelector(".checkout2-wrap").classList.remove("show"),document.querySelector("#customerAddress").reset(),document.querySelector(".checkout3-wrap").classList.add("show"),document.querySelector("#step3").classList.remove("form-steps__item--active"),document.querySelector("#step3").classList.add("form-steps__item--completed"),document.querySelector("#step4").classList.add("form-steps__item--active"),s="add_shipping_info",i=CUSTOMER_INFO.shipping,d(),step.push("checkout-3")}if("checkout3"===e.id){const i=document.querySelector("#cardnum").value.trim(),n=document.querySelector("#cardexp").value.trim(),r=document.querySelector("#cardcvv").value.trim(),a=document.querySelector("#cardname").value.trim(),c=document.querySelector("#cclogo").innerHTML;if(""===i||""===a||""===n||""===r)return q="ERROR: Input fields can't be blank.",void errorEvent(e,q,t);if(""===c)return q="ERROR: Invalid Card Number.",document.querySelector("#errmsgnumber").innerText=q,errorEvent(e,q,t);if(!creditCardDate(e,n,t))return;if(3!==r.length)return q="ERROR: CVV must be 3 digits long.",document.querySelector("#errmsgcvv").innerText=q,errorEvent(e,q,t);switch(CUSTOMER_INFO.ccnumber=maskNumber(i),CUSTOMER_INFO.ccexpiration=n,CUSTOMER_INFO.cccvv=r,CUSTOMER_INFO.ccname=a,CUSTOMER_INFO.cclogo=c,CUSTOMER_INFO.ccbrand=document.querySelector("#cclogo").firstElementChild.alt,document.querySelector(".checkout3-wrap").classList.remove("show"),document.querySelector("#customerPayment").reset(),document.querySelector("#cclogo").innerHTML="",document.querySelector(".summary-wrap").classList.add("show"),document.querySelector("#step4").classList.remove("form-steps__item--active"),document.querySelector("#step4").classList.add("form-steps__item--completed"),document.querySelector("#step5").classList.add("form-steps__item--active"),s="add_payment_info",o=CUSTOMER_INFO.ccbrand,d(),step.push("checkout-4"),tax=Number((.07*itemsValue).toFixed(2)),shipping=Number((.12*itemsValue).toFixed(2)),CUSTOMER_INFO.shipping){case"express":shipping+=10;break;case"overnight":shipping+=20;break;default:shipping+=0}document.querySelector("#sbname").innerHTML=CUSTOMER_INFO.name,document.querySelector("#sbaddress").innerHTML=CUSTOMER_INFO.address,document.querySelector("#sbemail").innerHTML=CUSTOMER_INFO.email,document.querySelector("#sbcity").innerHTML=`${CUSTOMER_INFO.city}, ${CUSTOMER_INFO.state} ${CUSTOMER_INFO.zip}`,document.querySelector("#sbphone").innerHTML=CUSTOMER_INFO.phone;for(const e of itemsSelected){const t=document.createElement("tr"),i=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const o in i){const n=document.createElement("td");"1"===o?n.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"3"===o?(n.style.cssText="text-align: center;",n.appendChild(document.createTextNode(i[o]))):n.appendChild(document.createTextNode(i[o])),t.appendChild(n),document.querySelector("#productRows").appendChild(t)}}document.querySelector("#productsSubtotal").innerHTML=`$ ${(itemsValue+discountTotal).toFixed(2)}`,document.querySelector("#uCoupon").innerHTML=void 0===userCoupon?"":`: ${userCoupon}`,document.querySelector("#discountTotal").innerHTML=`($ ${discountTotal.toFixed(2)})`,document.querySelector("#taxes").innerHTML=`$ ${tax.toFixed(2)}`,document.querySelector("#uShipping").insertAdjacentHTML("afterbegin",`<form class="shipp"><select id="chgSHIPP" class="formInput" onchange="chgSHIPPING()"><option value="">${CUSTOMER_INFO.shipping}</option><option value="standard">Standard</option><option value="express">Express</option><option value="overnight">Overnight</option></select></form>`),document.querySelector("#shippingCost").innerHTML=`$ ${shipping.toFixed(2)}`,document.querySelector("#total").innerHTML=`$ ${(itemsValue+tax+shipping).toFixed(2)}`,document.querySelector("#cctype").innerHTML=CUSTOMER_INFO.cclogo,document.querySelector("#ccbrand").innerHTML=CUSTOMER_INFO.ccbrand,document.querySelector("#ccnumber").innerHTML=CUSTOMER_INFO.ccnumber,document.querySelector("#ccexp").innerHTML=CUSTOMER_INFO.ccexpiration}if("purchase"===e.id){document.querySelector(".summary-wrap").classList.remove("show"),document.querySelector("#uShipping").innerHTML="",document.querySelector(".purchase-wrap").classList.add("show"),document.querySelector("#step5").classList.remove("form-steps__item--active"),document.querySelector("#step5").classList.add("form-steps__item--completed"),document.querySelector("#step6").classList.add("form-steps__item--active"),transactionID=`T-${Math.floor(1e4*Math.random())}`,s=e.id,n="conversion",step.push("checkout-end"),shipping=1*document.querySelector("#shippingCost").innerHTML.slice(2),i=CUSTOMER_INFO.shipping,d(),step.push("confirmation"),document.querySelector("#ocname").innerHTML=CUSTOMER_INFO.name,document.querySelector("#ocemail").innerHTML=CUSTOMER_INFO.email,document.querySelector("#ocaddress").innerHTML=CUSTOMER_INFO.address,document.querySelector("#occity").innerHTML=`${CUSTOMER_INFO.city}, ${CUSTOMER_INFO.state} ${CUSTOMER_INFO.zip}`,document.querySelector("#ocphone").innerHTML=CUSTOMER_INFO.phone,document.querySelector("#ocorderID").innerHTML=`Order Number ${transactionID}`,document.querySelector("#occustomerID").innerHTML=`Customer Number: ${t}`;const o=new Date;document.querySelector("#ocdate").innerHTML=`Date: ${o.toDateString()} / ${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}`,document.querySelector("#ocshipping").innerHTML=`Shipping Method: ${CUSTOMER_INFO.shipping.toUpperCase()}`;for(const e of itemsSelected){const t=document.createElement("tr"),i=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const o in i){const n=document.createElement("td");"1"===o?n.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"3"===o?(n.style.cssText="text-align: center;",n.appendChild(document.createTextNode(i[o]))):n.appendChild(document.createTextNode(i[o])),t.appendChild(n),document.querySelector("#ocproductRows").appendChild(t)}}document.querySelector("#ocproductsSubtotal").innerHTML=`$ ${(itemsValue+discountTotal).toFixed(2)}`,document.querySelector("#ocCoupon").innerHTML=void 0===userCoupon?"":`: ${userCoupon}`,document.querySelector("#ocdiscountTotal").innerHTML=`($ ${discountTotal.toFixed(2)})`,document.querySelector("#octaxes").innerHTML=`$ ${tax.toFixed(2)}`,document.querySelector("#ocShipping").innerHTML=`: ${CUSTOMER_INFO.shipping.toUpperCase()}`,document.querySelector("#ocshippingCost").innerHTML=`$ ${shipping.toFixed(2)}`,document.querySelector("#octotal").innerHTML=`$ ${(itemsValue+tax+shipping).toFixed(2)}`,document.querySelector("#occtype").innerHTML=CUSTOMER_INFO.cclogo,document.querySelector("#occbrand").innerHTML=CUSTOMER_INFO.ccbrand,document.querySelector("#occnumber").innerHTML=CUSTOMER_INFO.ccnumber,document.querySelector("#occexp").innerHTML=CUSTOMER_INFO.ccexpiration,document.querySelector("#occname").innerHTML=CUSTOMER_INFO.ccname}if("refund"===e.id){document.querySelector(".purchase-wrap").classList.remove("show"),document.querySelector(".refund-wrap").classList.add("show"),document.querySelector("#step6").classList.remove("form-steps__item--active"),document.querySelector("#step6").classList.add("form-steps__item--refunded"),document.querySelector("#step7").classList.add("form-steps__item"),document.querySelector("#step7").classList.add("form-steps__item--active"),document.querySelector("#step7").classList.add("show"),s=e.id,step.push("confirmation"),d(),document.querySelector("#rcorderID").innerHTML=`Order Number ${transactionID}`,document.querySelector("#rccustomerID").innerHTML=`Customer Number: ${t}`;const i=new Date;document.querySelector("#rcdate").innerHTML=`Date: ${i.toDateString()} / ${i.getHours()}:${i.getMinutes()}:${i.getSeconds()}`,document.querySelector("#rcshipping").innerHTML=`Shipping Method: ${CUSTOMER_INFO.shipping.toUpperCase()}`;for(const e of itemsSelected){const t=document.createElement("tr"),i=[e.item_id,e.item_name,e.price.toFixed(2),e.quantity,(e.price*e.quantity).toFixed(2)];for(const o in i){const n=document.createElement("td");"1"===o?n.insertAdjacentHTML("afterbegin",`${e.item_name}<br>Color: ${e.item_variant.toUpperCase()}<br>${e.item_category2} ${e.item_category3} ${e.item_category5}`):"3"===o?(n.style.cssText="text-align: center;",n.appendChild(document.createTextNode(i[o]))):n.appendChild(document.createTextNode(i[o])),t.appendChild(n),document.querySelector("#rcproductRows").appendChild(t)}}document.querySelector("#rcproductsSubtotal").innerHTML=`$ ${(itemsValue+discountTotal).toFixed(2)}`,document.querySelector("#rcdiscountTotal").innerHTML=`($ ${discountTotal.toFixed(2)})`,document.querySelector("#rctaxes").innerHTML=`$ ${tax.toFixed(2)}`,document.querySelector("#rcshippingCost").innerHTML=`$ ${shipping.toFixed(2)}`,document.querySelector("#rctotal").innerHTML=`$ ${(itemsValue+tax+shipping).toFixed(2)}`}if("ecommerce-cancel"===e.id||e.id.includes("ecommerce-end")){s="ecommerce-cancel"===e.id?"ecommerce_modal_closed":"ecommerce_funnel_complete",d(),ecommerceModal(),storeEnable=!1;for(const e of document.querySelectorAll('[name="itemsList"]'))e.innerHTML="";for(const e of document.querySelectorAll(".accordion"))e.classList.contains("active")&&c(e);document.querySelector("#itemsSelectedRows").innerHTML="",document.querySelector("#productRows").innerHTML="",document.querySelector("#ocproductRows").innerHTML="",document.querySelector(".add-to-cart-str").classList.remove("hide"),document.querySelector("#checkout1").classList.remove("inactive"),document.querySelector("#coupon").classList.remove("ghost"),document.querySelectorAll('[class$="-wrap"]').forEach((e=>{e.classList.remove("show")})),document.querySelectorAll(".form-steps__item").forEach((e=>{e.classList.remove("form-steps__item--active"),e.classList.remove("form-steps__item--completed"),e.classList.remove("form-steps__item--refunded")})),document.querySelector("#step7").classList.remove("form-steps__item"),document.querySelector("#step1").classList.add("form-steps__item--active"),panelFilled=[],itemsList=[],itemsSelected=[],itemsValue=0,userCoupon=void 0,transactionID=void 0,step=[],tax=0,shipping=0,discountTotal=0}}else{if("ecommerce-modal"===e.id&&(s="ecommerce_modal_opened",ecommerceModal(),storeEnable=!0),"email"!==e.id&&"phone"!==e.id||(s="generate_lead",c="USD","email"===e.id?(a="email",l=25):(a="phone",l=50)),"form-modal"===e.id&&(s="form_start",b="form modal open",formModal()),"form"===e.id){const i=document.getElementById("fname").value,o=document.getElementById("profession").value;if(!i.trim()||!o.trim())return q="ERROR: Form inputs can't be blank.",void errorEvent(e,q,t);if(i.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return q="ERROR: PII or special characters not allowed in First Name input!",errorEvent(e,q,t),void(document.getElementById("fname").value="");if(o.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return q="ERROR: PII or special characters not allowed in Profession input!",errorEvent(e,q,t),void(document.getElementById("profession").value="");T=capitalize(o),s="form_submit",a="form filled",b="customer service",M=`Thank you for your submission, ${capitalize(i)}! We will be in touch shortly.`,c="USD",l=75,document.querySelector(".form-wrap").classList.add("hide"),document.querySelector(".ty-message-wrap").classList.add("show"),document.querySelector("#thank-you-message").innerHTML=M,setTimeout(formModal,3e3)}if("form-close"===e.id&&(s="form_modal_closed",formModal()),"download"===e.id&&(s="file_download",f=window.location.hostname,S=e.className),"extlink"===e.id||"github"===e.id){s="outbound_link",y=e.href;f=new URL(y).hostname,S=e.className?e.className:void 0,h=!0}if("intlink"===e.id||"intlink2"===e.id){s="internal_link",y=e.href;f=new URL(y).hostname,S=e.className}"video"===e.id&&(vstop?(document.querySelector("#video .text").classList.add("playing"),document.querySelector("#video").style="background-color: red;",s="video_start",vplay=!0,vstop=!1,v="Play"):(document.querySelector("#video .text").classList.remove("playing"),document.querySelector("#video").style="background-color: #4caf50;",s="video_stop",vplay=!1,vstop=!0,v="Stop"),p=vprogress,g=`${Number((vprogress/300*100).toFixed(1))}%`);const m=setInterval((()=>{if(vplay){vprogress+=1,w=String((new Date).getTime()),x=timeStamp();const e=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:s,event_type:"content tool",video_duration:300,video_current_time:p,video_percent:g,video_status:v,video_provider:i,video_title:o,video_url:n,e_timestamp:w,custom_timestamp:x,logged_in:logged,user_id:t}),utag.link({tealium_event:s,event_type:"content tool",video_duration:300,video_current_time:p,video_percent:g,video_status:v,video_provider:i,video_title:o,video_url:n,e_timestamp:w,custom_timestamp:x,logged_in:logged,user_id:t,custom_user_id:t}),amplitude.setUserId(t),amplitude.track({event_type:s,event_properties:{event_type:"content tool",video_duration:300,video_current_time:p,video_percent:g,video_status:v,video_provider:i,video_title:o,video_url:n,e_timestamp:w,custom_timestamp:x},user_properties:{$set:{logged_in:logged,custom_user_id:t}}}),mixpanel.identify(t),mixpanel.people.set({logged_in:logged,custom_user_id:t}),mixpanel.track(s,{event_type:"content tool",video_duration:300,video_current_time:p,video_percent:g,video_status:v,video_provider:i,video_title:o,video_url:n,e_timestamp:w,custom_timestamp:x}),displayJSON(logged,tabMessage)};_=Number((vprogress/300*100).toFixed(1)),[10,25,50,75,90].includes(_)&&(s="video_progress",p=vprogress,g=`${_}%`,v=`Progress ${_}%`,e()),300===vprogress&&(document.querySelector("#video .text").classList.remove("playing"),document.querySelector("#video").style="background-color: #4caf50;",s="video_complete",p=vprogress,g=`${_}%`,v="Complete",vprogress=0,vplay=!1,vstop=!0,clearInterval(m),e())}}),1e3);if("Stop"===v&&clearInterval(m),"search-modal"===e.id&&(s="search_modal_opened",searchModal()),"search"===e.id){if(!e.previousElementSibling.value.trim())return q="ERROR: Search term can't be blank.",void errorEvent(e,q,t);{const i=e.previousElementSibling.value.trim();if(i.match(/mailto:|tel:|^[\w\-.]+@[\w\-.]+|@/i))return q="ERROR: PII or special characters not allowed as Search Term.",errorEvent(e,q,t),void(e.previousElementSibling.value="");L=capitalize(i),r="Magnifying Glass",e.previousElementSibling.value=""}searchModal()}if("search-close"===e.id&&(s="search_modal_closed",searchModal()),"consent-open"===e.id&&(s="consent_banner_opened",showBanner()),/^btn-/i.test(e.id)){switch(e.id){case"btn-accept-all":setConsent({necessary:!0,analytics:!0,preferences:!0,marketing:!0}),d="accepted";break;case"btn-accept-some":setConsent({necessary:!0,analytics:document.getElementById("consent-analytics").checked,preferences:document.getElementById("consent-preferences").checked,marketing:document.getElementById("consent-marketing").checked}),d="selective";break;case"btn-reject-all":d="rejected";break;default:}s="consent_mode_updated",hideBanner()}"consent-close"===e.id&&(null===localStorage.getItem("consentMode")&&(setConsent({necessary:!0,analytics:!0,preferences:!0,marketing:!0}),d="auto-accepted"),s="consent_banner_closed",hideBanner()),"login"===e.id&&(logged=!0,t=localStorage.UUID??UUID,localStorage.setItem("logged",logged),localStorage.setItem("UUID",t),toggleBtns(),e.classList.add("inactive")),"logout"===e.id&&(logged=!1,localStorage.setItem("logged",logged),toggleBtns(),document.querySelector("#login").classList.remove("inactive")),w=String((new Date).getTime()),x=timeStamp(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:s||e.id,button_text:r,contact_method:a,consent_status:d,currency:c,event_type:/generate_lead|form_submit/i.test(s)?"conversion":"ui interaction",tag_name:e.tagName,file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:b,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?M:void 0,link_domain:f,link_classes:S,link_id:/extlink|intlink|download|banner/i.test(e.id)?e.id:void 0,link_url:y,link_text:/extlink|intlink|download|banner/i.test(e.id)?r:void 0,method:"login"===e.id?"Google":void 0,outbound:h,search_term:L,value:l,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:300,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:p,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:g,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:v,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:i,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:o,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:n,e_timestamp:w,custom_timestamp:x,logged_in:logged,user_id:t,user_profession:T}),utag.link({tealium_event:s||e.id,button_text:r,contact_method:a,consent_status:d,currency:c,event_type:/generate_lead|form_submit/i.test(s)?"conversion":"ui interaction",tag_name:e.tagName,file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:b,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?M:void 0,link_domain:f,link_classes:S,link_id:/extlink|intlink|download|banner/i.test(e.id)?e.id:void 0,link_url:y,link_text:/extlink|intlink|download|banner/i.test(e.id)?r:void 0,method:"login"===e.id?"Google":void 0,outbound:h,search_term:L,value:l,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:300,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:p,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:g,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:v,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:i,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:o,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:n,e_timestamp:w,custom_timestamp:x,logged_in:logged,user_id:t,custom_user_id:t,user_profession:T}),amplitude.setUserId(t),amplitude.track({event_type:s||e.id,event_properties:{button_text:r,contact_method:a,consent_status:d,currency:c,event_type:/generate_lead|form_submit/i.test(s)?"conversion":"ui interaction",tag_name:e.tagName,file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:b,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?M:void 0,link_domain:f,link_classes:S,link_id:/extlink|intlink|download|banner/i.test(e.id)?e.id:void 0,link_url:y,link_text:/extlink|intlink|download|banner/i.test(e.id)?r:void 0,method:"login"===e.id?"Google":void 0,outbound:h,search_term:L,value:l,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:300,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:p,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:g,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:v,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:i,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:o,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:n,e_timestamp:w,custom_timestamp:x},user_properties:{$set:{logged_in:logged,custom_user_id:t,user_profession:T}}}),mixpanel.identify(t),mixpanel.people.set({logged_in:logged,custom_user_id:t,user_profession:T}),mixpanel.track(s||e.id,{button_text:r,contact_method:a,consent_status:d,currency:c,event_type:/generate_lead|form_submit/i.test(s)?"conversion":"ui interaction",tag_name:e.tagName,file_extension:"download"===e.id?"pdf":void 0,file_name:"download"===e.id?"PDF_to_Download":void 0,form_destination:b,form_id:e.id.includes("form")?e.id:void 0,form_name:e.id.includes("form")?"User Profession Survey":void 0,form_submit_text:"form"===e.id?M:void 0,link_domain:f,link_classes:S,link_id:/extlink|intlink|download|banner/i.test(e.id)?e.id:void 0,link_url:y,link_text:/extlink|intlink|download|banner/i.test(e.id)?r:void 0,method:"login"===e.id?"Google":void 0,outbound:h,search_term:L,value:l,video_duration:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:300,video_current_time:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:p,video_percent:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:g,video_status:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:v,video_provider:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:i,video_title:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:o,video_url:!e.id.includes("video")||!0!==vplay&&!0!==vstop?void 0:n,e_timestamp:w,custom_timestamp:x}),displayJSON(logged,tabMessage),"rejected"===d&&setConsent({necessary:!1,analytics:!1,preferences:!1,marketing:!1})}return document.querySelectorAll('[name = "action"]').forEach((e=>{e.removeAttribute("disabled")})),e.id.match(/close/i)||/productList/i.test(e.id)||e.setAttribute("disabled",""),!0}))}));